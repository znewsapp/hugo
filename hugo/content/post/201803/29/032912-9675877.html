+++
date = "2018-03-29T12:00:00"
title = "大誤 · 從鑽研到放棄"
titleimage = "https://pic3.zhimg.com/v2-94f470efd99fdf003d302ae30b401576.jpg"
ga = 032912
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">有哪些解決完之後讓你拍案叫絕的算法問題?</h2>

<div class="answer">



<div class="content">
<p>這道問題勾起了遙遠的回憶。</p>
<p>記得在一年以前，還在前公司的時候，有一天主管找到我，丟給了我一個活。</p>
<p><strong>實現一個活動系統。</strong></p>
<p>一個活動有開始時間，結束時間，開始之前有報名，報名還有限制，有些用戶可以報名，有些用戶不可以報名。不可以報名的用戶，用戶端不予以顯示等等等等，一大堆邏輯。</p>
<p>我絮絮叨叨這麼一堆，<strong>但看得出來這個問題不難，只是比較繁瑣</strong>。活動的狀態太多，彼此之間牽連不清。</p>
<p>當時主管提了一個要求，說不能只寫 if else 實現，<strong>太 low</strong>，讓我想想高端的辦法。</p>
<p>作爲一個打過 acm 的少年，這種區區問題還能難得到我？</p>
<p>稍加思索，想到了狀態機。將活動的各個狀態設計成狀態機，每個狀態通過條件轉換。例如觸發報名，則進入活動是否開始的狀態校驗，通過時間判斷開始與否，往活動已開始和活動未開始的狀態轉移。每個狀態的來源和去向都是固定的，那麼只需要在構造實例的時候傳入狀態參數，直接就能知道返回的信息。</p>
<p>當時還花了一點時間畫了流程圖寫了文檔，放在了內網裏。得意滿滿，做好了被誇獎一通的準備。</p>
<p>過了好久，主管看到了找我，說，不錯不錯，但是這個狀態是不能配置的，可不可以做成可配置的，<strong>並且把其他的業務也接進來</strong>？這樣以後就牛逼大了。</p>
<p>狀態機還能配置的？我第一反應是窩草，好厲害，我果然孤陋寡聞了。轉過頭一想，不對啊，狀態機怎麼配置，怎麼配每個狀態的上下游？每個狀態轉移之間的判斷邏輯怎麼配，搞動態編譯麼？用 groovy 好像也可以吧。但是前端邏輯與 groovy 的轉化比較麻煩，實現起來難度不小。</p>
<p>好像也不是不可以，但是整個工程很浩大呀，前後端都涉及。還要專門搞一個配置平臺，<strong>我彷彿看到了一個巨大的輪子緩緩從海洋中浮現出來。</strong></p>
<p>那現在，前後端有資源麼？什麼時候開始做？我眼神裏露出了期待。</p>
<p>沒有，你先研究研究，先搞起來吧。</p>
<p>好的。我一拍桌子，當晚，就寫好了簡歷。</p>
</div>
</div>




</div>


</div>
</div><script type="“text/javascript”">window.daily=true</script>