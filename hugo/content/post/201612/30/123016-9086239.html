+++
date = "2016-12-30T16:00:00"
title = "用了一點計算機技能，整個生活都不一樣了"
titleimage = "http://pic1.zhimg.com/f7c478eec4755def9c26af0e0e69a09c.jpg"
ga = 123016
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">你有哪些用計算機技能解決生活問題的經歷？</h2>

<div class="answer">



<div class="content">
<p>最近沉迷於和一個漢子聊天（都懂的）。然而漢子太忙，我又實在把持不住自己每次都秒回消息，實在是太不高冷.</p>
<p>於是昨晚花了一小時寫了個 Chrome 插件來控制自己不要秒回&hellip;&hellip;</p>
<img class="content-image" src="http://pic3.zhimg.com/70/a16299fe8f15ae8eac7b3dd18f43daae_b.jpg" alt="">
<p>因爲是 messenger 插件所以是英文的。翻譯如下：</p>
<blockquote>我可以回覆了嗎？_(:з」&ang;)_ <br><strong>滾</strong>Ծ‸Ծ<br><br>...等 2 分鐘再回更好哦 ( &acute;･_･` )</blockquote>
<p>簡單的說就是統計兩邊回覆消息的速度，並給出應該再假裝高冷多久的實用建議</p>
<p>。。</p>
<p>。。</p>
<p>機智如我( &bull; ̀&omega;&bull;́ )✧</p>
<p>。。</p>
<p>然而漢子依然經常好幾個小時纔回復</p>
<p>請不要告訴我真相&hellip;&hellip;</p>
<p>第一次寫 chrome 插件特別 hacky 然而不要臉如我依然放 github 上了&hellip;&hellip;各位姑娘漢子歡迎拿去提升逼格 <a href="https://github.com/hanax/should-i-reply">GitHub - hanax/should-i-reply: A chrome extension for you to decide when to reply to fb messages</a></p>
<p>&nbsp;</p>
<p>well turns out that 小哥號稱沒女朋友然而其實他&ldquo;忙&rdquo;的時候在和女朋友吃飯&hellip;&hellip;</p>
<p>感覺是不是該寫個 machine learning 來根據回消息時間判斷對方是否有劈腿？像這種幾小時回一下消息的漢子就應該直接建議&ldquo;請拉黑&rdquo;？</p>
<p>&hellip;&hellip;讓我先哭一會</p>
</div>
</div>

<div class="answer">



<div class="content">
<p>前幾天，從朋友那裏順來一套玩具：超市購物收銀機。我家寶寶看到了非常喜歡。可是玩了一會寶寶就不高興了，因爲物品中少了一個香蕉。當提示要刷香蕉時，寶寶找不到就不能愉快地玩耍了。趴在地上哇哇大哭起來：&ldquo;香蕉呢？香蕉被誰吃了？香蕉去哪了？爲什麼沒有香蕉？怎麼就沒有香蕉？&rdquo;</p>
<img class="content-image" src="http://pic4.zhimg.com/70/e4d67a75cd4da652c78a48b912ea5b2f_b.jpg" alt="">
<p>爲了能讓寶寶繼續愉快地玩耍，我就分析這個玩具。收銀機的掃描器有四個傳感口，可以接受 4 個二進制的信號。</p>
<img class="content-image" src="http://pic4.zhimg.com/70/6adcb398ab7af9d5ad3490dc854ce8e7_b.jpg" alt="">
<p>每個貨物的都有四個黑白的格子，用於表示 4 個二進制碼。由於可以左右鏡像，所以有的貨物有兩組數碼錶示，如蘋果二進制碼是 1000 和 0001（下圖右下角紅色的，很像屁股的那個東西就是蘋果）。</p>
<img class="content-image" src="http://pic2.zhimg.com/70/b2f03a55fc31f97945db96937d3ef2e1_b.jpg" alt="">
<p>有着對計算機多年研究底蘊的我，很快就發現缺失香蕉的二進制碼是 1011 和 1101。於是我做了個如下卡片：</p>
<img class="content-image" src="http://pic4.zhimg.com/70/d1aef8ab6bf18d3341bf0fa53f94d38b_b.jpg" alt="">
<p>用它來表示香蕉，有了它之後，我家寶寶又能愉快地玩耍了。</p>
</div>
</div>

<div class="answer">



<div class="content">
<p>某天，家父加班晚歸，在飯桌上感嘆工作之不易。我隨口一問，問題來源於水果手機出新品的時候，需要將手裏的貨分配給若干個代理商。每個代理商都提出了需求（某種機型需要多少臺），然而因爲資源有限，公司給每個代理商設置了一個分配上限（分配給這家代理商的手機總數不能超過上限）。代理商大概有幾百家，水果手機按顏色、內存、尺寸也能分出十幾種，總庫存上千。家父與其夥伴每次都手動分配、調整，有時甚至需要數個小時，十分無奈。</p>
<p>-- Version 0 --</p>
<p>我一看，這不妥妥的<a href="https://en.wikipedia.org/wiki/Maximum_flow_problem">最大流</a>嗎，建立一個二部圖，一側表示手機機型，另一側表示代理商。手機存貨量通過源點到手機機型的邊控制，代理商上限通過代理商到匯點的邊控制，代理商需求用手機機型和代理商間的連邊控制，不就可以了嗎？</p>
<p>-- Version 1 --</p>
<p>家父便給了我一個以前的任務來測試。當然不到一秒就跑出結果來了。但是，家父指出一個問題，就是<strong>不同代理商的優先級是不一樣的</strong>，配額高的代理商，應該優先分配。</p>
<p>再一看，喲，妥妥的<a href="https://en.wikipedia.org/wiki/Minimum-cost_flow_problem">最小費用最大流</a>啊，給每個流賦一個權重，流向不同的代理商有不同的權重，完美。</p>
<p>-- Version 2 --</p>
<p>家父表示這次的結果能看了許多，但仍然有一個問題：這樣分配出來，一個代理商往往會得到特別多的某種機型，而其餘機型則一臺都得不到，這個在現實中也不太合理。</p>
<p>唔，這次要求流向統一代理商的不同機型儘量均勻啊。這個我沒想到特別優雅的解決方案，我只是稍微改了一下算法的實現：在上面的算法中，每一輪計算都會盡可能分配一堆某種手機給同一代理商，於是我改成了每次計算只分配一臺，而且在有多種方案時隨機選擇一種。</p>
<p>這樣跑出來的結果就合理多啦！不過效率低了不少，大概得跑半分鐘吧。</p>
<p>-- Version 3 --</p>
<p>算法上的改進就沒有啦，不過畢竟不能讓家父在終端跑程序，所以拿 C#擼了個界面，讀入某種格式的 csv 文件，算出結果填到 csv 裏再輸出出去（講道理在 Excel 裏寫 vba 估計也行，不過我之前算法拿 C++ 寫的，改 C#容易些）。最後從網上抄了個進度條，用戶體驗 max！</p>
<p>從此以後，家父與其夥伴可以在半個小時內解決問題（畢竟還要微調一下，數據錄入之類的）。</p>
<p>-- 分割線 --</p>
<p>這個故事告訴我們，學算法還是有用的！</p>
<p>-- 再次分割 --</p>
<p>13 年我回高中夏令營演講的時候，我將<strong>編程</strong>這一技能比喻爲信息時代的<strong>駕駛</strong>，每個人能可以並且應該去學習、掌握。有趣的是，當時收到一份反饋，說駕駛不僅僅是技能，它還可以給人以愉悅之享受。今天回過頭來看這個反饋，突然明白了，這種愉悅某種程度上源自於你獲得的<strong>操控感</strong>。可巧的是，編程也可以帶來極強的操控感。在信息時代，對手中<strong>數據</strong>的操控能力是極爲重要的。</p>
</div>
</div>

<div class="answer">



<div class="content">
<p>高中生，第一次看到了一個可以回答的問題。</p>
<p>浙江的，從今年開始，教育廳不把成績打包發給學校了&hellip;&hellip;可是，學校需要知道所有學生的學考選考成績才能做決策啊！！</p>
<p>怎麼辦吶？</p>
<p>我的學校是這樣解決的：自己週末查好自己的成績，記住。</p>
<p>返校後，填在一張表格上。</p>
<p>每個班拎一個人出來錄入本班的成績。</p>
<p>我是錄入的人之一啊&hellip;&hellip;過於痛苦，因爲每個人的學考選考考試都是不一樣的。找對應的格子眼睛都酸了。</p>
<p>當時（一個月前），正好激情澎湃想學一點爬蟲。然後直接幹上了。</p>
<p>因爲學校有所有學生的身份證，又會有所有的准考證，那麼理論上，是可以用程序一下子查完全校所有學生的成績的。</p>
<p>於是開始寫程序。</p>
<p>開始什麼都不懂，python 都沒碰過，連爬蟲是什麼都不知道。</p>
<p>然後用少的可憐的課餘時間上網自學。</p>
<p>開始弄清 HTTP、HTML、python 語法。</p>
<p>程序是這麼設定的：</p>
<p>給它一個有對應身份證和准考證號碼的 excel 文件，自動輸出查詢結果。</p>
<p>現在已經 100%完成了，學校領導表示很高興，說今年高考的時候讓我試試。</p>
<p>寫代碼時的插曲：</p>
<p>1、發現驗證碼是在 HTTP response 裏面明文寫着的。當時激動跪了。估計只有政府網站纔會這樣吧。用 chrome 看 request 和 response 的 header 和表單數據，發現出奇的簡單。於是沒有引入處理 cookie 的庫，直接在程序裏用 python 強大的文本操作能力解決了。</p>
<p>2、浙江省教育考試院的服務器有一定的反爬機制，所以只能兩秒鐘獲取一個數據纔不會被拒掉。</p>
<p>3、自己一個人潛下心來乾的時候，效率是最高的。</p>
<p>用批處理運行 pip install 自動安裝庫，自動運行主程序。</p>
<p>貼代碼圖一張：</p>
<img class="content-image" src="http://pic2.zhimg.com/70/f176f5f504dc96b1ae57b100f2f755ad_b.jpg" alt="">
<p>成果：</p>
<img class="content-image" src="http://pic1.zhimg.com/70/7fdde26d4f4edbd7aa4c872e5e595498_b.jpg" alt="">
<p>（已經隱藏第一列的准考證號，刪除了第一行對應的科目。這些數據不是我們學校的，它們範圍更廣。）</p>
<p>運行的時候：</p>
<img class="content-image" src="http://pic1.zhimg.com/70/103e53bc33300cc01c2d4b987ef94c9c_b.jpg" alt="">
<p>傻傻的批處理：</p>
<img class="content-image" src="http://pic1.zhimg.com/70/1a767002b468c687ca31f3f2c4d2df70_b.jpg" alt="">
<p>主要功能：</p>
<p>1、支持斷點，每一次打開都會檢測上一次下載到哪裏。</p>
<p>2、容錯。有關文件的、有關網絡的錯誤都會給出提示，不會爆掉</p>
<p>這便是人生中第一個有使用價值的程序。</p>
<p>現在高二。想進 ZJU 計算機系。</p>
</div>
</div>




</div>


</div>
</div>