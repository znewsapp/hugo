+++
date = "2016-12-04T07:00:00"
title = "手機再好，平常連 30% 的性能都用不到"
titleimage = "http://pic3.zhimg.com/bcf28e2a80ec2d40a6d14a8db953ed72.jpg"
ga = 120407
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">爲什麼總是有人說用不到手機性能的 30%？</h2>

<div class="answer">



<div class="content">
<p>日常中 30% 的性能都不需要。</p>
<p>考慮這個場景：連續不停的看網頁。</p>
<p>目前的電池容量一般是 3000mah，放電曲線是 4.2V - 3.7V。如果我們以 3.9V 爲一般工作電壓，一塊電池大約有 3 x 3.9 = 11.7Wh 的電量。一般來說，手機屏幕大約有 0.5 Watt 的功耗，我的手機在新機狀態下能連續看 10 個小時左右的網頁。</p>
<p>這樣的話粗算下來，整個 SoC 平均功耗大概在 0.5 - 1W 之間。而手機整個 SoC 的 TDP 一般在 2.5-3.5W，瞬時最大功率能到 10-15W。</p>
<p>所以芯片的性能一般只發揮了 20%，如果和芯片全部的性能潛力比，只有 5% 不到。</p>
<p>之所以這麼設計是因爲手機的使用場景決定的。你在看網頁的大部分時間內畫面都是靜止的，除去瀏覽器的預加載和一些後臺應用的定時喚醒外，前臺的瀏覽器不需要渲染，不需要計算，不需要流量。甚至打印到一張紙然後貼到屏幕上你都不一定能察覺。此時對於芯片而言實際上是沒活的。</p>
<p>沒活的時候，CPU 跑那麼快做什麼。</p>
<p>因此，這個時候一般芯片都工作在次低的頻率，比如 500MHz &mdash;&mdash; 最低的頻率一般保留給了休眠模式。手機的功耗控制都很精細，雖然 CPU 仍然在以低頻率工作，但是對於多核而言可以關掉兩個大的留兩個小的（大小核），也能做到其他場景下不會使用的模塊，比如相機模塊斷電，GPU 只有負責顯示的部分在工作，甚至還能做到 CPU 內部也可以關閉一部分電路。這樣可能只需要零點幾甚至零點零幾 Watt 的功率就能夠維持機器運行。</p>
<p>當用戶從神遊狀態中恢復過來，刷新網頁，就真正需要芯片工作的時候了。這個時候 CPU 會在幾個微秒內迅速提升頻率到最高，基帶和 GPU 也開動起來，保證機器能夠在最短時間內響應你的操作。此時手機功率甚至會超過 TDP &mdash;&mdash; 可以依賴輔助散熱組件的比熱容，在溫度上升到管制溫度之前（一般是 45 - 50 攝氏度）迅速把任務處理完成。這樣就能保證用戶操作的流暢性。</p>
<p>當然，這種頻率切換是非常有技巧的。</p>
<p>如果實際工作量並不大，比如後臺接受數據推送，或者用戶點亮屏幕時需要更新屏幕的表面的時鐘和信息，那麼跑滿 CPU 並沒有意義，反而會降低待機時間。這個時候只需要把頻率從 500MHz 提升一倍就足夠應付了。</p>
<p>但是如果工作量很大，比如打開新的應用，如果此時 CPU 提升頻率太猶豫，等了兩秒先提到 1G，工作了兩秒又發現不夠再提到 2G，就會明顯減緩加載速度，降低用戶的體驗。在這種條件下，果斷乾脆的提升到最高性能纔是更好的選擇。</p>
<p>具體策略如何，要看芯片廠商對場景的理解以及操作系統和應用給出的提示。</p>
<p>實際上，某些電池管理系統的&ldquo;性能模式&rdquo;，只是通過修改配置文件，提升或降低了芯片對工作負荷的響應速度（有時也會包括對推送、喚醒、屏幕亮度和帶寬使用的調整），並不會影響到休眠模式和滿負荷運行時芯片的處理能力和功耗。</p>
</div>
</div>




</div>


</div>
</div>