+++
date = "2016-12-08T14:00:00"
title = "不用付錢拿着東西就走人，亞馬遜無人超市是怎麼做到的？"
titleimage = "http://pic3.zhimg.com/d7328dc8aa3e1ee195cdcfe6381cd1e6.jpg"
ga = 120814
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



<div class="headline-background">
<a class="headline-background-link" href="http://it.people.com.cn/n1/2016/1207/c1009-28930489.html">
<div class="heading">相關新聞</div>
<div class="heading-content">亞馬遜將開線下無人超市 不用排隊不用結賬</div>
<i class="icon-arrow-right"></i>
</a>
</div>

</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title"></h2>

<div class="answer">



<div class="content">
<p>重大發現，再次更新：</p>
<p>根據亞馬遜提交的 2 份專利，目前得到了如下消息：</p>
<p>1，總括</p>
<p>Amazon Go 超市的識別流程是：商品 / 貨架&mdash;&mdash;識別拿出或放入動作&mdash;&mdash;識別被動物品&mdash;&mdash;物品與用戶物品清單關聯&mdash;&mdash;清單與行爲用戶關聯。我目前看到的專利是解釋識別動作和識別物品的部分。</p>
<p>2，識別動作</p>
<p>a，採集用戶的手進入貨架平面前的圖像。</p>
<p>b，採集用戶的手離開貨架平面後的圖像。</p>
<p>c，兩者對比，可以知道是拿出貨物還是放入貨物。</p>
<p>如果是拿起，進入前的手和進入後的手及手中的物品等特徵是可區分的，這個特徵與放入是相反的。簡單說，如果是拿起，進入之前手是空的，沒有商品的，離開後是手裏有物品的。放入則相反。</p>
<p>3，識別承受動作的物品</p>
<p>關於拿出物品的識別：</p>
<p>a，不必用圖片識別，用傳感器即可，簡單快速。例如重力 / 紅外傳感器的變化可表示物品被拿起。</p>
<p>b，部分情況下需要圖片識別被拿出的物品是否與所在位置表示的物品一致。例如，物品 A 被放在 B 物品處，如果只有 a 處理，就會被當成物品 B，不過這種情況較少。</p>
<p>關於放入物品的識別：</p>
<p>a，在用戶放入物品前，可以確定用戶與物品的關聯關係（物品清單），這些物品的圖片被儲存在系統內。</p>
<p>b，通過檢索圖片，與被放入物品進行比較，識別物品。</p>
<p>c，高置信度可判斷物品正確，更新（刪除）物品清單。</p>
<p>如上部分可以通過傳感器實現或者輔助。</p>
<p>無人超市的關鍵是解決&ldquo;誰對什麼東西幹了什麼&rdquo;的問題，目前我所瞭解的方案解決了什麼東西被怎麼處理了，至於是誰實施的還在研究中。</p>
<p>PS:上述內容被我 12/06 日的猜測命中，圖像識別&mdash;&mdash;手，貨架平面&mdash;&mdash;圖片跨界分析。</p>
<p>關於 Amzon Go 項目的最新補充：<a href="http://www.ithome.com/html/next/278415.htm">從 2 份專利文件一窺 Amazon Go 到底藏了什麼黑科技？</a></p>
<p>以下是文章引用：</p>
<p>在 Quora 上，有一位名爲 Brian Roemmele 的網友挖出了幾年前亞馬遜提交的兩份專利文件，裏面描繪的系統跟如今的 Amazon Go 非常相似。這兩份文件名稱爲：&ldquo;偵測物體互動和移動&rdquo;（Detecting item interaction and movement）和&ldquo;物品從置物設備上的轉移&rdquo;（Transitioning items from the materials handling facility），兩文件分別於 2013 年和 2014 年申請。</p>
<p>這兩份專利文件都描繪了十分龐雜的應用場景，包括：貨倉、船運、零售市場等，所以很多人當初在看到這份文件時，都以爲這是亞馬遜爲自己的倉儲系統量身定製的，不過今天一切真相大白。</p>
<p>這兩份專利分別講了什麼？</p>
<p>&ldquo;偵測物體互動和移動&rdquo;（Detecting item interaction and movement）這份專利的摘要是：</p>
<p>用戶從一個貨架上拿起或放下一個物品，貨物管理系統可以偵測到這個動作，並且更新用戶移動設備裏的清單。</p>
<p>&ldquo;物品從置物設備上的轉移&rdquo;（Transitioning items from the materials handling facility）這份專利的摘要是：</p>
<p>物品被識別，並且當用戶正在拿起物品時，物品自動與用戶發生關聯。當用戶進入或穿過一個&ldquo;轉移區&rdquo;（Transition Area），被拿起的物品將自動轉移到用戶，而不需要用戶有任何的輸入。</p>
<p>總的來說就是，被識別的物體與用戶發生關聯，能自動更新清單，並在&ldquo;轉移區&rdquo;進行自動交易（&ldquo;轉移區&rdquo;在 Amazon Go 裏指的就是商店的出口）。</p>
<p>我們可以從下面一張圖裏，一窺 Amazon Go 的基本原型。</p>
<p>圖中代號爲 208 的物體都是攝像頭，大約有 10 多個（有一些被人體擋住）。208 攝像頭分別置於天花板（如圖左右兩邊各有一個比較大的攝像頭）、貨架兩側和貨架內部。文件裏描述到，天花板上的 208 用來採集用戶和貨品的位置、貨架兩側的 208 用來捕捉用戶的圖像和周圍的環境，貨架內的 208 用來確定貨品的位置或用戶手的移動（進入和離開貨架）。</p>
<p>下面對幾個問題進行總結：</p>
<p>有哪些硬件：攝像頭、壓力傳感器、紅外傳感器、體積位移傳感器、光幕等。</p>
<p>硬件的作用：</p>
<p>1、攝像頭：監控拍照，圖片分析，a、用於進出門對用戶識別。我猜測這個可能是煙霧彈，用防盜門刷手機識別手機即可，這也是專利中補充描述的；b、用於分析客戶是否跨過&rdquo;轉移區&ldquo;。</p>
<p>2、壓力 / 紅外 / 體積位移轉傳感器：識別物品運動，識別客戶是否跨過&rdquo;轉移區&ldquo;。</p>
<p>Amzon Go 方案只要做到兩點：</p>
<p>1、商品是否被拿起或放下。這個可以通過壓力傳感器、紅外傳感器、體積位移傳感器識別。</p>
<p>2、誰拿起或放下了商品。這個可以通過光幕識別。我猜光幕會形成一個&rdquo;轉移區&ldquo;在這個轉移區對應唯一的客戶。</p>
<p>難度：</p>
<p>1、物品與客戶對應識別：如何將被拿起的物品與客戶一一對應是個問題，如果在一定區域有足夠多人的話，可能會張冠李戴。</p>
<p>2、重放物品識別：原有物品識別是通過貨物管理員提前設置的，但是重放回物品識別會存在一定問題。這個問題可能是通過圖片分析解決，因爲該貨架區域物品單一，識別異物比較簡單。也可能有傳感器的作用。</p>
<p>3、錯放物品識別：如果商品 AB 被放錯了位置，如何糾錯。</p>
<p>以上被曝光的消息被我昨天猜對了 70%。</p>
<p>我就瞭解的一點情況與各位分享。12 年的時候想過實現方案，14 年畢業前做過實現方案。最後還是失敗了，現在又想繼續做。先寫一點總結和揣摩。</p>
<p>無人商店在 13 年或者更早就已經開始有嘗試了，總的來說，我把各種方案分成五類：沃爾瑪的&ldquo;Scan&amp;Go"類方案，無人收銀機方案，誠信超市方案，RFID 方案和 Amzon Go 方案。前三者基本靠誠信，毫無技術含量可言，或者說沒有解決防盜損的關鍵問題。第四種方案在倉儲中應用較多，因成本太高無法在超市大規模應用。Amzon Go 方案是目前看到最有前景的方案（真如視頻中所示的話）。先說前四種。</p>
<p>一：沃爾瑪的&ldquo;Scan&amp;Go"類方案</p>
<p>1，沃爾瑪的&ldquo;Scan&amp;Go"</p>
<p>沃爾瑪的&ldquo;Scan&amp;Go"項目主要是開發一款手機應用，將客戶的手機變成掃描槍，客戶成了收銀員，邊購物邊掃描，最後手機結賬。如下圖：</p>
<p>現存報道如下：</p>
<p><a href="http://blog.atmbox.com/4358.html">沃爾瑪推 Scan&amp;Go 移動支付應用實現自助結賬服務 | 行業志</a></p>
<p>因爲盜損率過高（好像是從 0.7% 上升到 3% 以上）該項目最終失敗了。對於薄利多銷的超市而言，損失過於巨大。</p>
<p>2，掃描儀方案</p>
<p>12 年的時候沃爾瑪在北京實施過另一個計劃，給每個客戶發一個掃描儀，每臺購物車上安裝簡易終端（用於導航和展示商品），具體過程與上面介紹的方案類似，失敗結果也是一樣的。</p>
<p>3，智能購物車方案</p>
<p>15 年出現了&rdquo;BuySmart 超市智能購物車&ldquo;，它與前面的區別在於用 Pad 更換了手機 / 掃描儀，而且提供了銷售數據分析功能。</p>
<p>報道如下：</p>
<p>BuySmart 超市智能購物車：<a href="http://www.cyzone.cn/a/20150523/275197.html">BuySmart 超市智能購物車，你的時間我來負責 - DEMO - 創業邦</a></p>
<p>沃爾瑪的&ldquo;Scan&amp;Go"類方案失敗的關鍵在於沒能解決防盜防損問題，提供了一些華而不實或者後續才需要實現的功能。</p>
<p>二：無人收銀機方案</p>
<p>先上圖：</p>
<p>無人機方案比較好理解，和地鐵無人售票機一樣。客戶購物完成走到無人收銀機前，將每個物品放入掃描，然後放錢結賬。便宜的機器是沒有防盜措施的，國外某些機器具有簡單的防盜措施，例如重力感應。這個措施是很容易被破除的，例如不掃描直接帶走，李代桃僵（重量一致）。</p>
<p>無人收銀機方案的關鍵是節約人工成本（限國外），防盜防損技術基本沒有，操作麻煩，不能完全非人工作業，完全不智能。該方案在國外用的多，國內嘛，深圳 / 上海 / 杭州等地都出現過，基本上沒啥用途。</p>
<p>介紹如下：</p>
<p><a href="http://www.zhihujingxuan.com/21484.html">國內超市無人自助收銀系統爲什麼發展緩慢？ | 知乎精選</a></p>
<p><a href="http://mt.sohu.com/20151217/n431670235.shtml">自助收銀機已登陸上海，你看好嗎？- 搜狐</a></p>
<p>三，誠信超市方案</p>
<p>15 年 6 月的時候，阿里搞了個無人誠信超市活動，就是給便利店的員工放一天假，客戶順便購買 / 拿商品，付不付錢，付多少錢全靠你自己。這種超市用腳想都知道沒戲，不過在國外還挺多，但也有特殊條件才行。這種方案不要問我關鍵因素在哪～～～</p>
<p>報道如下：</p>
<p><a href="http://news.163.com/15/0609/10/ARLMPS6900014Q4P.html">無人超市試水 1 天后恢復&ldquo;有人&rdquo;(組圖)</a></p>
<p><a href="http://world.people.com.cn/n/2015/0615/c157278-27155140.html">在&ldquo;無人超市&rdquo;，體驗美式信用 -- 國際 -- 人民網</a></p>
<p>四，RFID 方案</p>
<p>RFID 是<a href="http://baike.baidu.com/view/11208022.htm">無線射頻識別</a>技術的縮寫，它的使用方法是將標籤貼在商品上，商品經過一個區域可以自動被感知標籤，從而識別商品。這與當前的收銀員掃描過程類似，只是 RFID 技術能遠距離（30m）批量識別，這樣的話只要設立感應裝置（出口），任何經過該出口的商品都能被識別。它的應用場景是：你購物過程中自動識別購物車中的物品，完成購物後手機出現付款二維碼，到收銀臺掃描付款即可。該方案沒有在超市應用的主要原因是因爲標籤成本太貴，好像高達 0.5 元一個。不要以爲 0.5 元很便宜，對超市而言，簡直貴死了。沃爾瑪的毛利在 15%左右，淨利在 5%左右，超市大部分商品單價在 10 元左右，你想想，每個商品貼上 0.5 元的標籤，光標籤成本就是 5%。</p>
<p>Chaotic Moon Lab 智能購物車：<a href="http://news.163.com/12/0305/07/7RQMFHHG00014JB5.html">能帶路的"智能購物車"_網易新聞中心</a></p>
<p>五，Amzon Go 方案</p>
<p>大家先看官方視頻：<a href="https://www.amazon.com/b?ie=UTF8&amp;node=16008589011">Amazon.com: : Amazon Go</a>。視頻下方有關於 Amzon Go 的簡單介紹。</p>
<p>官方介紹說用於到了&ldquo;technologies used in self-driving cars: computer vision, sensor fusion, and deep learning&rdquo;（無人駕駛技術中的計算機視覺，感應器融合和深度學習）。下面推測一下硬件及其位置：</p>
<img class="content-image" src="http://pic4.zhimg.com/70/v2-f04f21893d081e8b76a00e22da231e13_b.jpg" alt="">
<p>攝像頭的推測理由大概是這樣的：</p>
<p>計算機視覺應該就是監控攝像頭及圖片分析技術，所以攝像頭是必不可少的。這個攝像頭不可能是用戶手機攝像頭，只能是亞馬遜自己的攝像頭，因爲用戶手機可以揣兜裏。攝像頭可安放的位置也只能是貨架和牆壁，因爲要拍攝到商品和用戶（準確的說應該是手），拍攝之後就可以分析圖片了。 攝像頭大家都知道，真正關鍵的是圖片分析技術。一般的超市的監控分析是如何完成的呢，答案是保安實時看。在 Amzon Go 方案中，大概是利用圖片分析了物品的運動：物品離開貨架到進入貨架的過程。</p>
<p>藍牙發射模塊的推測理由大概是這樣的：</p>
<p>手機能夠根據購物行爲實時增刪虛擬購物車，所以必須有與手機通信的裝備 / 模塊，這樣的裝備 / 模塊必須是密集分佈在貨架裏。假設只有 1 個或少數幾個通信裝備 / 模塊，那麼還需要解決向哪個顧客發送的問題，我認爲這個問題是比較難的。如果是密集分佈，那麼一定區域（足夠小）的的貨品對應唯一的發生裝備 / 模塊，在這足夠小的貨品區域中，一般而言不會同時存在兩個客戶。比如在能放 4 瓶酒的區域中，會同時出現 2 個顧客太難了，一個顧客的體積就足以覆蓋這個區域。所以也就形成了一一對應的關係。</p>
<p>重力或紅外感應器的推測理由如下：</p>
<p>當物品靜置時，視頻 / 圖片變動不大，電腦可以實時分析。當物品被拿動時，可以根據物品的運動區分原有物品是否在原地。這個運動的邊界就是貨架。因爲從公佈的視頻來看，物品離架瞬間就被記錄了，所以它默認物品離架等於購買，原有物品放回原地等於不購買。從一個區域到另一個區域（跨越邊界）的圖片分析技術已經應用了。其中還有就是從圖片中識別物品（如果放回來的不一樣呢），這個技術很難，據說百度在國際上得獎的圖片識別技術也只能是 95% 或 98%，而且是有條件的。在超市這樣複雜環境中肯定沒法只靠這種技術。因此，識別物品跨界和識別物品就需要感應器。</p>
<p>那麼爲什麼是紅外 / 重力感應器呢？</p>
<p>因爲我實在想不到還有別的簡單 / 低成本且符合條件的感應器了。小時候看神偷電影都會有紅外激光保護寶物的鏡頭，紅外感應就是識別物品進入與否的方案。重力感應也可以，沒有重量的時候表示被拿起，有重量表示被放下。這個還只是解決了物品跨界問題，識別物品（是否是原來的）還沒有很好的解決。</p>
<p>總結一下，Amzon Go 用到了計算機視覺，感應器融合和深度學習，前兩者主要用於採集數據，後者用於數據分析和識別，主要用的硬件有攝像頭 / 紅外或重力感應器 / 藍牙發送器。主要過程是通過監控分析物品的運動，判斷用戶是否購買，感應器採集數據，通過分析進一步印證判斷，最後通過藍牙進行發送。</p>
<p>Ps：識別物品並沒有想象中的困難，因爲攝像頭和感應器對應特定區域的物品，相對而言難度降低很多。</p>
<p>這個方案本身可能難度不大，但是能否取到應有的效果，還不清楚。而且有個重大的問題，從視頻中判斷，售賣的商品存在極大的限制&mdash;&mdash;必須是包裝完整的商品。普通超市中存在大量散裝商品，如水果，穀物等。</p>
<p>五種方案總結如下：</p>
<img class="content-image" src="http://pic3.zhimg.com/70/v2-f7c13515b7071d3b37fdc4828e147396_b.jpg" alt="">
<p>最後說一下超市防盜現狀：</p>
<p>目前，超市防盜措施有：視頻監控，人工巡邏，收銀員覈查，電子標籤感應。</p>
<p>前三者大家都能理解，到處都是攝像頭，攝像頭後面是保安實時監控。超市內部有便衣巡邏，營業員也起到監督作用。收銀員在收銀的時候能查出極少的掉包事件。電子標籤感應就是進出門口的感應防盜門。大概有 30% 的商品（單價高）會貼上標籤，有的是硬標，例如衣服上的，有的是軟標（貼在條形碼或者商品裏面），識別軟標的辦法是收銀員是否將商品掃描後在收銀臺上摩擦一下，摩擦的過程就是消磁，只有消磁了進出防盜門纔不會響。所以總的來說，超市大部分防盜還是靠人，大部分商品是沒有任何防盜措施的，只要膽子大，直接揣口袋被發現的概率極低。</p>
<p>從現狀和各種方案來看，實現無人超市的關鍵還是在於技術上配合防盜舉措，實現低成本防盜。</p>
</div>
</div>




</div>


</div>
</div>