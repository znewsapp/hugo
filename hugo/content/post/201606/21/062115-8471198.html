+++
date = "2016-06-21T15:00:00"
title = "這個純「國產」的超級計算機系統，排到了世界第一"
titleimage = "http://pic2.zhimg.com/6ae3836e65274a2a40a8ce6ebd2bf78d.jpg"
ga = 062115
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



<div class="headline-background">
<a class="headline-background-link" href="http://news.sohu.com/20160620/n455352668.shtml">
<div class="heading">相關新聞</div>
<div class="heading-content">中國「神威太湖之光」登全球超級計算機 500 強榜首</div>
<i class="icon-arrow-right"></i>
</a>
</div>

</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">如何評價神威太湖之光打敗天河二號在超算 Top 500 榜單中登頂第一？</h2>

<div class="answer">



<div class="content">
<p>一個比較詳細的測試報告：<a href="http://www.netlib.org/utk/people/JackDongarra/PAPERS/sunway-report-2016.pdf">http://www.netlib.org/utk/people/JackDongarra/PAPERS/sunway-report-2016.pdf</a></p>
<p>Top 500 排名第 1</p>
<p>Graph 500 排名第 2</p>
<p>Green 500 排名第 3，這個排名比較的是 性能 / 功耗</p>
<img class="content-image" src="http://pic1.zhimg.com/70/1c1aedc22f10ba21ca1a53d2c8712fe0_b.jpg" alt="">
<p>這東西其實倒騰了很久了，和天河二號是同時立項的，目標都是 100P。建造單位是國家並行計算機工程中心，屬於軍隊研究單位，所以一直沒有對外公佈。本來預計是去年底就會發布的，一直拖到了現在。</p>
<p>神威系列的產品，其實一直都在部隊內部運用，民用的不多，唯一宣傳較多的就是濟南超算的神威藍光。獲得國家最高科學技術獎的金怡濂院士，就曾經是神威系列的總設計師。</p>
<p>相比於機器本身，更值得期待是年底的 Gordon Bell 獎，這個 ACM 的 Award 是頒發給 HPC 領域的最前沿的應用的，代表着具體系統和實際應用結合的最高水平。中國目前還從未獲得過，連入圍最終階段的應用都還沒有（去年有個德國的應用在天河 2 上入圍了）。而今年，在神威太湖之光上有 2 個應用（也有可能是 3 個）已經入圍了 11 月份的 Gordon Bell 獎最終評審階段，如果能夠斬獲最終的大獎，意義更大。</p>
<p>神威太湖之光的 CPU 架構是自己設計的， 計算單元包括兩個部分，一個是主核，和普通的 CPU 類似。二是 8*8 的從核陣列。從核陣列相當於是 GPU、MIC 這一類的加速部件，可以直接訪問主存，陣列行列之間可以進行快速的寄存器通信。</p>
<img class="content-image" src="http://pic3.zhimg.com/70/2b36a524399ad464cc790754347e7c2a_b.jpg" alt="">
</div>
</div>

<div class="answer">



<div class="content">
<p>白天看到這個消息非常振奮，當即就去找導師彙報！</p>
<p>我：&ldquo;中國造了一臺新超算，100PFlops！&rdquo;</p>
<p>導師的第一反應是：&ldquo;功耗多少？&rdquo;</p>
<p>我：&ldquo;15MW&rdquo;</p>
<p>導師：&ldquo;Holy sh*t!&rdquo;</p>
<p>我：&ldquo;他們沒用 Intel 的芯片。&rdquo;</p>
<p>導師：&ldquo;oh that makes sense&rdquo;</p>
<p>我也不是黑 Intel，但實在是 x86 架構的歷史包袱太重了，想要實現 性能 / 功耗比的重大提升，這是一個邁不過去的坎。 我在 <a href="https://www.zhihu.com/question/33397548/answer/56479149">如何看待 19 歲少年想做出在目前 Intel 同等計算性能下降低 80% 功耗的全新電路系統芯片？ - Sean 的回答</a> 這個回答中就提到過，Rex Computing 的人在做的事之一就是砍掉 Cache，用 Scratch Pad Memory 取而代之。而在太湖之光的衆核架構中的大量 Slave core 裏面，採用了同樣的思路，只保留了 instruction cache。data cache 用 Scratch Pad Memory 代替，避免了衆核情況下的 cache coherence 帶來的大量性能和功耗浪費。（Master core 裏面有正常的 Cache），我覺得這是太湖之光實現高性能 / 功耗比的一個重要原因。 而且 Slave core 只支持 user mode，於是我猜測它在 TLB 上面應該也有精簡。但目前 SW26010 芯片還沒有詳細的文檔資料，所以這點我也只能猜測。</p>
<p>至於採用衆核架構，可以說是大勢所趨，美帝一些新的系統用的也是 Intel 的衆核 Knights Landing 芯片，據說性能也很不錯。</p>
<p>至於指令集，Jack Dongarra 在他的報告裏特意強調和 Alpha 的指令集沒有關係，所以哪怕神威前幾代芯片和 Alpha 有淵源，但這次應該真沒有&hellip;&hellip;</p>
<p>然後更令我驚喜的是不光系統搭起來跑了 Linpack，而且還有三項應用入圍了 Gordon Bell 獎的最終名單 （這個算是超算界最厲害的獎了）。充分說明太湖之光已經形成戰鬥力了啊！</p>
<p>最後冷靜下來談一談不足之處： HPCG 的跑分。爲什麼 HPCG 跑分重要？因爲它比 Linpack 更接近真實應用的場景，更能體現出內存系統的瓶頸。用一個汽車的比喻來講，Linpack 的跑分更像是汽車的百米加速指標，而 HPCG 更像是到真實的賽道上去跑&mdash;&mdash;這時候就不光是加大馬力就能行的了，操控性等其他因素也很重要。</p>
<img class="content-image" src="http://pic1.zhimg.com/70/e2b8c48cac48039a5d045c8b49939d64_b.jpg" alt="">
<p>太湖之光在 HPCG 的測試下只達到了它 0.3% 的峯值性能，總的算下來還不如天河二號。說明其在 memory 和 network 的性能上存在很大的瓶頸。這其實還是挺不樂觀的。</p>
<p>最最後還是不要掉以輕心，美帝這邊正在奔着 exa-scale （1000 Pflops）努力，計劃在 2023 年拿出性能達到 exa-scale，功耗小於 20MW 的超算。（美帝目前沒有建造類似天河二的系統很大程度上是因爲功耗的限制，放眼望去基本都是 10MW 以下的） 眼前就有 GPU 帶來的變革，DARPA 爲此也投資了不少黑科技的項目， 而且這個新聞一出，估計跟國會要錢更容易了&hellip;&hellip; 革命尚未成功，同志仍需努力啊！</p>
</div>
</div>




</div>


</div>
</div>