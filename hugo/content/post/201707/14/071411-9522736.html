+++
date = "2017-07-14T11:00:00"
title = "揣着一百塊走進這個房間，莫名其妙地變成了窮光蛋"
titleimage = "https://pic4.zhimg.com/v2-2a7159cf4ef9cc60ffc0698283f6de23.jpg"
ga = 071411
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">房間內有 100 人，每人有 100 塊，每分鐘隨機給另一個人 1 塊，最後這個房間內的財富分佈怎樣？</h2>

<div class="answer">



<div class="content">
<p>N 人共有 M 元的情況下：</p>
<ol>
<li>最終的分佈是 在標準(N-1)-<strong>單純形(<a href="https://en.wikipedia.org/wiki/Simplex">Simplex</a>)</strong>上 邊長爲 M 的格點上的<strong>隨機遊走(<a href="https://en.wikipedia.org/wiki/Random_walk">Random walk</a>)</strong> 的穩態分佈 的各分量的分佈；</li>
<li>隨機遊走相當於求解離散空間的<strong>熱傳導方程(<a href="https://en.wikipedia.org/wiki/Heat_equation">Heat equation</a>)</strong>；</li>
<li>在一定條件下，穩態分佈近似單純形上的均勻分佈&mdash;&mdash;對稱<strong>狄利克雷分佈(<a href="https://en.wikipedia.org/wiki/Dirichlet_distribution">Dirichlet distribution</a>)</strong>，其分量服從<strong>指數分佈(<a href="https://en.wikipedia.org/wiki/Exponential_distribution">Exponential distribution</a>)</strong>。</li>
</ol>
<p>注：以下是每分鐘「<strong>某個人</strong>」給另一個人錢的情況，而不是每分鐘（還有錢的）「<strong>每個人</strong>」給另一個人錢情況。請注意這兩者的區別，詳細見評論。</p>
<p>-</p>
<p>一個極重要的隱含假設是，我們<strong>不允許負債</strong>。令 x_i 表示第 i 個人的錢數，則所有的可行狀態在以下空間內：</p>
<img class="content-image" src="http://www.zhihu.com/equation?tex=x_1%2B...%2Bx_N%3DM%2C+%5Cquad+where+%5Cquad+x_i%5Cin+%5C%7B0%2C...%2CM%5C%7D%2C+i%5Cin%5C%7B1%2C...%2CN%5C%7D" alt="">
<p>這是一個邊長（一個頂點到另一個頂點的格點數）爲 M 的<strong>(N-1)- 單純形上的所有整數點</strong>。</p>
<p>（注意一般地標準單純形的定義是在實空間上的，是內部的所有實數點。在這裏我們盜用了這個術語...）</p>
<p>易知狀態的總數爲<strong>C(M+N-1, N-1)</strong>。當 N=100，M=100*100 時（100 人每人 100 元），狀態總數的量級在 10^240 的級別。直接求解幾乎不可能..</p>
<p>例如，當有 3 人每人有 2 元（共 6 元）時，狀態空間是邊長爲 6 的 2- 單純形（正三角）上的所有整數點。</p>
<img class="content-image" src="http://pic4.zhimg.com/70/v2-519a12197652045ba3cde4402ee35eab_b.jpg" alt="">
<p>當初始狀態爲絕對平均的 (222) 時，隨時間變化相當於以該點爲起始 在這個空間上的<strong>無偏隨機遊走</strong>。</p>
<p>-</p>
<p>這樣的隨機遊走理論上是可以得到穩態的。考慮一個簡單的 2 人各 2 元的情況，狀態空間爲 (40), (31), (22), (13), (04)；狀態轉移矩陣爲</p>
<img class="content-image" src="http://www.zhihu.com/equation?tex=%5Cbegin%7Bbmatrix%7D+0+%26+.5+%5C%5C+1%260%26.5%5C%5C+%26+.5+%26+0+%26+.5+%5C%5C+%26%26.5+%26+0+%26+1+%5C%5C+%26%26%26+.5+%26+0+%5Cend%7Bbmatrix%7D+" alt="">
<p>易得穩態分佈爲[1,2,2,2,1]/8。</p>
<p>直觀上，在除了邊界的區域上分佈應該是均勻的。（未證明）</p>
<p>但由上述，狀態空間極大，錢數多時像這樣直接求解十分困難。</p>
<p>-</p>
<p>一般地，令</p>
<img class="content-image" src="http://www.zhihu.com/equation?tex=p_n%28x%29" alt="">
<p>爲時間爲 n 時狀態爲 x 的概率，定義格點上的<strong>算子&Delta;</strong>如下</p>
<img class="content-image" src="http://www.zhihu.com/equation?tex=%5CDelta+p%28x%29%3D%5Csum_%7By%3Ad%28x%2Cy%29%3D1%7D%5Bp%28y%29-p%28x%29%5D" alt="">
<p>其中 d(x,y)是兩點之間的距離。d(x,y)=1 表示 x 和 y 是相鄰的，可以從一點轉移到另一點。</p>
<p>則狀態轉移方程可以寫爲</p>
<img class="content-image" src="http://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+p_n%28x%29%7D%7B%5Cpartial+n%7D+%3D+%5Calpha+%5CDelta+p_n%28x%29" alt="">
<p>其中&alpha;控制轉移的速度。</p>
<p>有沒有發現和熱傳導方程有點像？</p>
<img class="content-image" src="http://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+u%7D%7B%5Cpartial+t%7D+%3D+%5Calpha+%5Cnabla%5E2u" alt="">
<p>其實上述定義的&Delta;算子就是圖上的<strong>離散 Laplacian (<a href="https://en.wikipedia.org/wiki/Discrete_Laplace_operator">Discrete Laplace operator</a>)</strong>，方程是圖上的<strong>離散熱傳導方程</strong>。隨機遊走的穩態分佈可以<strong>近似</strong>看作是熱傳導的終態。（未證明）</p>
<p>-</p>
<p>A HUGE GAP</p>
<p>-</p>
<p>注意到 M 錢數多 -&gt;格點密集，N 人數多 -&gt;單純形維數高。</p>
<p>我們考慮在<strong>某種條件</strong>下，以連續熱傳導方程近似格點上的隨機遊走。進一步地，忽略對邊界上的討論，將終態視爲單純形上的均勻分佈。（未證明）</p>
<p>（注意這裏有一個極大的 gap，我們未嚴格討論在什麼情況能用連續 Laplace 算子代替圖上的 Laplacian）</p>
<p><a href="https://en.wikipedia.org/wiki/User%3aSkinnerd/Simplex_Point_Picking">User:Skinnerd/Simplex Point Picking</a> 這裏討論瞭如何在單純形上隨機取樣或模擬隨機遊走。注意到單純形上的均勻分佈相當於參數&alpha;=(1,1,...,1)的<strong>狄利克雷分佈</strong>，其分量服從指數分佈（？）。具體地：</p>
<img class="content-image" src="http://www.zhihu.com/equation?tex=x_i+%5Csim+Exponential%281%29%2C+S+%3D+%5Csum+x_i%2C+t_i%3D%5Cfrac%7Bx_i%7D%7BS%7D+%5Cquad+%28i%3D1%2C...%2CN%29" alt="">
<p>則 t_i 是標準 N- 單純形上的均勻分佈。</p>
<p>-</p>
<p>若上述成立，500 人各 500 元時最終大概會變成這樣子：</p>
<img class="content-image" src="http://pic3.zhimg.com/70/v2-30dfa69f3fc59d18db051b5a571a2446_b.jpg" alt="">
<p>此外我們注意到，當 N 變大時，單純形維數高，由於維數災難，大部分點是在<strong>&ldquo;邊角&rdquo;</strong>處的。</p>
<p>N- 單純形的體積是</p>
<img class="content-image" src="http://www.zhihu.com/equation?tex=%5Cfrac%7B1%7D%7Bn%21%7D%5Csqrt%7B%5Cfrac%7Bn%2B1%7D%7B2%5En%7D%7D" alt="">
<p>單純形的中心（最均勻的分佈）距離最近的邊界（其中 1 人爲 0 其他人均勻分佈）的距離是</p>
<img class="content-image" src="http://www.zhihu.com/equation?tex=%5Csqrt%5Cfrac%7B1%7D%7B2n%28n%2B1%29%7D" alt="">
<p>單純形內接球在單純形中的佔比爲</p>
<img class="content-image" src="http://pic2.zhimg.com/70/v2-1d3904c5bebbf72eedef4c6d7479e571_b.jpg" alt="">
<img class="content-image" src="http://pic4.zhimg.com/70/v2-c2dd62ccb283aa6f9a3738be8532b4d7_b.jpg" alt="">
<p>也就是說，人數超過 10 人時，經過一定時間的交換，<strong>幾乎一定至少有一個人&ldquo;破產&rdquo;</strong>。</p>
<p>-</p>
<p>這篇回答只是提供一個可能的方向，如何聯繫隨機遊走和熱方程。充滿了大大小小的 gap，但我並沒有時間深究了。我找到了這本書：</p>
<p>[1] G. F. Lawler, &ldquo;Random Walk and the Heat Equation.&rdquo;</p>
<p>看起來蠻有趣的。希望有讀者能夠解釋一下如何嚴密地聯繫離散時間離散狀態和連續時間連續狀態，在什麼情況下可以近似，以及如何隨時間變化等等。歡迎討論。</p>
</div>
</div>




</div>


</div>
</div>