+++
date = "2016-08-11T10:00:00"
title = "把加密算法本身保密起來，不就是絕對安全了？"
titleimage = "http://pic2.zhimg.com/43603153ed6af331aa7ff19f1a007a29.jpg"
ga = 081110
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">在有限專家間評議加密算法是不是比直接公開更安全？</h2>

<div class="answer">



<div class="content">
<p>這是一個經典問題了，常常被問起。其他回答有些已經從專業角度進行了闡述。我嘗試從通俗的角度再補充一下。</p>
<p><strong>一、應用於大衆領域的密碼學卻要實現算法保密？一個不可能的任務</strong></p>
<p>一提起密碼學，大家第一反應是聯想到戰爭、軍事，但如今的世界，密碼學最廣泛也是最基本的用途卻是在保護普通人的通信安全&mdash;&mdash;比如讓你在使用網銀的時候密碼不會被其他人截獲進而偷走你的錢。</p>
<p>站在這個角度看，很快就會發現，要想讓全世界 70 億人口仰仗一種不公開的加密算法隱約存在一些障礙。不過，在開始討論之前，我們還是先做一些非常非常理想（而不切實際的）假設：</p>
<p>1、算法的締造者是頂級專傢俱有深入的知識</p>
<p>2、算法沒有包含任何的後門，不會被特殊的政治集團利用</p>
<p>3、算法的保密性極佳沒有任何機構有能力竊取</p>
<p>4、全世界一致同意接受這一算法</p>
<p>在如此烏托邦般理想的背景下，全世界滿心歡喜，翹首以待，希望立刻使用這一算法來保障全世界的通信安全！（此處應有 BGM，世界 500 強 CEO 歡聚一堂紛紛豎起大拇指對提出這一算法天才致以最高的敬意&mdash;&mdash;雖然並沒有人知道他是怎麼做到的&mdash;&mdash;而且我也不清楚大家怎麼就能如此單純的相信他說的是真的&hellip;&hellip;）</p>
<p>就在這歡聲笑語一片祥和，世界大同的瞬間，有一個工程師突然發現了一個問題&mdash;&mdash;怎麼才能把這個算法用起來呢？另一個工程師也恍然大悟，一拍大腿脫口而出：是啊，算法他媽的根本沒公開啊！</p>
<p>全世界都愣住了，光忙着慶祝，卻忽略了一個問題&mdash;&mdash;除了算法的作者誰也不知道怎麼去加密和解密，沒人能寫出算法！怎麼辦？</p>
<p>這時候隔壁老王提提褲子站了起來，提議由算法的發明人，定製一種硬件芯片，祕密製造，然後在不公開其硬件構造的情況下，統一分發給大家！</p>
<p>熱烈的掌聲，經久不息。但老張不樂意了，老張站起來緩緩道：硬件好是好，但是我們公司的幾億臺嵌入式設備已經在運行，要升級硬件難度太大。首先你的芯片有多大，尺寸太大肯定不行，我們的設備體積有限；耗電多少，太耗電那也行不通；速度呢，能達到每秒處理 X Mbit 嗎？我們的系統是硬實時系統，響應時間不能超過 Y ms&hellip;&hellip;如果可以，還有個問題，價格呢？如果太貴，我們怕是要破產。而且硬件的東西，做上去就無法更改了，你們最好一次做對，要是出問題想改那也是難吶&hellip;&hellip;</p>
<p>會場陷入了一片沉默&hellip;&hellip;一些工程師開始交頭接耳。老張頓了頓，說道：可以搞軟件的嘛，提供一個預編譯好的二進制庫給我們就行了，這樣我們不用升級硬件，也能用上這項偉大的發明！</p>
<p>算法的發明人經過短暫的考慮，微笑着點點頭表示了同意。笑容又出現在每個人的臉上。除了會場角落的一羣人&hellip;&hellip;</p>
<p>他們輕蔑的看着狂歡的人羣，爲他們的天真報以最深的同情&mdash;&mdash;這是一羣安全研究人員，就在上個月，他們破解了一個被認爲&ldquo;絕對安全&rdquo;的芯片，完全逆向出了其中的算法。在他們眼中，這場鬧劇雖然可笑，但卻也是一個發家致富的絕佳機會&hellip;&hellip;</p>
<p>講這個段子只是爲了提醒你：</p>
<ol>
<li>任何保密的算法一旦變成了硬件，就有可能被逆向還原</li>
<li>同上，任何保密算法一旦變成了軟件，就有可能被逆向還原（實際上不是有可能而是一定可以）</li>
<li>上述兩條在可以預見的未來依然成立</li>
</ol>
<p>所以結論：算法的保密性在現實世界行不通。甚至可以說，任何想要大規模廣泛應用保護幾十億人的密碼學算法，都根本無法實現保密，最終不管是你願意還是不願意都會公開。原因是，算法要給人用，就要變爲硬件或者軟件，而這二者都不安全，可以通過研究它們逆向還原出算法。</p>
<p><strong>二、通過嚴密的管理措施在軍事上實現算法保密？另一種幻想</strong></p>
<p>上面聊完了民用，我們知道一點，一旦需要［廣泛］應用一種加密算法，那麼保密就是不可能的。接下來我們考慮軍事環境下，能否實現加密算法的保密呢？</p>
<p>在理想的世界裏，好人和壞人涇渭分明；英雄的意志如同鋼鐵般從不會被誘惑；每一個兢兢業業的軍人如同機器般準確，從不犯錯&hellip;&hellip;</p>
<p>可惜現實世界裏的軍隊絕非如此，光是間諜問題就解決不了。間諜也許偷不走你的算法設計文檔，但他 / 她可以偷走你安裝了相應加解密芯片的設備，於是問題又回到和前述類似的情況，你的算法很可能被逆向還原&hellip;&hellip;</p>
<p>而更實際的情況其實是，在軍事領域，直接收買 / 綁架 / 威脅相關人員更加方便，破解芯片有時候反而純屬多餘。這方面二戰中已經數不勝數。都是血淚教訓。</p>
<p><strong>三、可是，如果公開的是安全的，那麼我將其再做保密不是［更加］安全麼？一個思維陷阱</strong></p>
<p>這可能是提問者最困惑的問題。這就相當於，如果你們口口聲聲說公開的最安全，那麼我把它再做一層保護，也就是保密起來，那不是雙保險？！</p>
<p>這樣的想法，其實是一種變相的循環論證：</p>
<ol>
<li>一個算法，敢叫安全的，一個專家說了不算，十個也不算，所有專家都這麼說纔算，所以你得［公開］了，最後纔敢叫安全</li>
<li>你都保密了，就沒有人知道它到底安全不安全，只有一小撮人［認爲］它安全，所以你保密的是一個［安全］的算法嗎？也許是，也許不是</li>
<li>歷史經驗證明，發明安全的算法難度之高，遠超想象，由此可知，在 2 的情況下，你小心翼翼維護的所謂［安全］算法 99.99％ 其實是個不堪一擊的東西</li>
</ol>
<p>所以，根本原因是，<strong>安全不是［天生］屬性，而是公開後［實踐］賦予的衍生屬性。你無法在保密一個東西的同時確定它是安全的，你只能［自認爲］它是。</strong></p>
<p><strong>四、別忘了，公開挑戰全世界並獲勝是現代密碼學膽敢聲稱安全的唯一標準</strong></p>
<ol>
<li>現實世界的任何加密算法賦予的安全性都是［有限］的，實際上加密算法只是在不斷的擡升［破解的代價］而已，主要是時間代價</li>
<li>因此完美的，絕對的加密算法在現實世界不存在</li>
<li>由上可知，幾乎沒有人真正能夠判定一個加密算法是否［安全］，只能以有限的知識對其進行估計，但經過大衆的參與，一些久經考驗的加密算法被發現［很難］破解，我們纔可以謹慎認爲它們相對安全</li>
</ol>
<p>仔細想想就會發現，其實現代密碼學最大的進步就是承認了不完美，這一點可以說是經典密碼學到現代密碼學精神內核上最本質的區別，也改變了密碼學研究的方向。究竟需要多大的膽量，纔可以把自己的算法公之於衆的同時，聲稱它是安全的？同時當全世界絞盡腦汁都無法將其撼動分毫時，作者內心會感受到多高的榮譽？</p>
<p>這是一種極致的挑戰精神。也是人類智慧的極致體現。</p>
<p>五、反常提示</p>
<p><em>無需知道加密算法，也可能構造出解密算法，這一點可能讓很多人意外：</em></p>
<p>加密算法本質都是一個函數 F。而與其相對的解謎算法可以稱爲 F'。這很好理解。問題是，構造 F' 一定要知道 F 嗎？能否在不知道原始加密算法的情況下，直接構造一個函數來實現和 F' 相同的解密功能？實際上是有可能的，如果有大量的明文和密文對（這個條件通常很容易滿足），然後 F 滿足特定的數學性質，那麼就可以找到一個 U 函數，實現 F' 的功能。</p>
<p><em>重複加密多次，或者混用多種不同的加密算法，可能降低安全性：</em></p>
<p>如果加密一次會變得安全的話，那麼加密兩次、三次、四次呢？是否更加安全？事實上可能恰恰相反，安全性有可能反而降低。混用加密算法也會帶來此類問題。這一點也常常讓人意外。</p>
<p><em>密鑰長度越長越安全？不一定：</em></p>
<p>特定的加密算法，某些長度的密鑰有助於增強安全性，而另一些則會削弱，這實際是一個很複雜的問題。實際上好的加密算法至少保證密鑰長度增長的同時安全性增強，但許多算法並不能在這方面給予保證，讓人很意外。</p>
<p><em>同一個加密算法，選擇兩個相同長度的密鑰 X 和 Y，它們加密出來的結果一樣安全嗎？不一定：</em></p>
<p>存在弱密鑰，不幸選中這些密鑰會導致安全性下降，有時問題可能會很嚴重。</p>
<p>其它各種坑就不說了，請參考專業書籍&hellip;&hellip;你瞭解的越多，你終將會發現，密碼學真的非常非常複雜，因此如果誰膽敢聲稱安全，即使是這個行業的頂級人員，也常常被打臉。一般只敢提出一些新想法啓發思路。而證明其安全性是一個很漫長的過程。</p>
<p>沒有哪個小圈子強大到提問者想象的那個理想程度。</p>
</div>
</div>




</div>


</div>
</div>