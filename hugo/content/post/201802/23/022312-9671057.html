+++
date = "2018-02-23T12:00:00"
title = "爲什麼今年春晚能把淘寶搞崩潰？"
titleimage = "https://pic4.zhimg.com/v2-06a9d5af2e46735c1307367efe882013.jpg"
ga = 022312
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">如何看待 2018 年春晚直播期間「淘寶崩潰事件」？</h2>

<div class="answer">



<div class="content">
<p>大家好，作爲淘寶春晚項目的技術負責人，還是站出來讓大家笑話一下，順便還原一下這起“淘寶崩潰事件”</p>
<p><strong>淘寶到底“崩潰”了什麼？</strong></p>
<ul><li>活動共四場，只有第一場的用戶會有一定概率遇到以下問題：</li>
<ul><li>部分用戶登錄出現限流</li>
<li>部分用戶購物車打不開</li>
<li>部分用戶活動頁出現限流</li>
</ul><li>歸納起來，就是需要登錄才能用的很多功能都出現了問題</li>
</ul><p><strong>淘寶是怎麼“崩潰”的？</strong></p>
<ul><li>看上去問題很多，關鍵的問題就一句話：登錄系統被打到限流了..</li>
<li><strong>怎麼被打到限流的？ </strong>真的是因爲大家的熱情太嚇人，尤其是春晚期間，不少長輩對淘寶“路轉粉”，導致新增用戶的瞬間調用登錄系統量暴增，出現限流情況....其中有一個小細節，並非直接使用登錄功能纔會調用到登錄系統，淘寶 APP 是長登錄的，進入 APP 後系統也會有機制自動調用登錄系統刷新登錄狀態，所以其實那個瞬間登錄系統的壓力還是非常大的..</li>
<li><strong>事情發生後現場情況？</strong> 當然是嚇得冷汗都下來了….趕緊讓登錄系統在現場值班的同學進行擴容，擴容動作倒真不慢，第一場結束前已經陸續恢復了，第二場開始前容量就夠了，所以後面三輪互動都沒有出現這些問題.....</li>
<li><strong>爲什麼會被打到限流？</strong> 確實是因爲我們對登錄系統的容量評估失誤導致….但很多同學不知道的是，我們其實很早就預估到了登錄系統的壓力。當時我們經過充分的討論和商議，基於一些歷史數據推導出了種種極端情況，最終決定穩妥起見，<strong><em>以 17 年雙十一的容量爲基礎，對登錄再擴容個 3 倍！</em></strong>....結果，春晚當晚登錄的實際峯值超過了 17 年雙十一的<strong><em>15 倍</em></strong>，尤其新用戶的瞬時登錄更是完全超出預料......</li>
</ul><p><em>總結起來，那就是....我們真的對春晚的力量一無所知...</em></p>
</div>
</div>




</div>


</div>
</div><script type="“text/javascript”">window.daily=true</script>