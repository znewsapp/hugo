+++
date = "2017-11-24T09:00:00"
title = "從耳機裏就能聽出友軍的方位，這些遊戲是怎麼做到的？"
titleimage = "https://pic3.zhimg.com/v2-8c2eec2fb5dbca27cd31907a37881d8e.jpg"
ga = 112409
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">吃雞這類遊戲是怎麼做到讓人從耳機裏分辨聲音方位的？</h2>

<div class="answer">



<div class="content">
<p>這個問題拆開來其實可以從三個方面來探討，即：</p>
<ol><li>人耳如何通過聽力是如何辨別方位？</li>
<li>遊戲聲音的方位是如何設計的？</li>
<li>玩家玩遊戲的時候聲音是如何回放的？</li>
</ol><hr><p>先回答第一個問題，人耳如何通過聽力是如何辨別方位？</p>
<p>人耳辨別方向的機制簡單說是由左右耳協同作用所產生的，這就像我們用雙眼看物體纔可以辨認距離一樣。雙耳接受的聲音存在着“<strong>強度差</strong>”和“<strong>時間差</strong>”，在包含更多低頻分量的聲音中還存在着“<strong>相位差</strong>”，同時人頭對聲音還有一定的遮蔽效應從而產生了“<strong>音色差</strong>”。</p>
<ul><li>時間差顧名思義是兩隻耳朵先後聽到聲音的時間差。別看人雙耳距離很短大約只有 20 釐米左右，但是對於時間差是相當靈敏的。</li>
<li>強度差則是兩耳聽到聲音在音量強度上的差異，因爲聲音作爲一種機械波在空氣中傳播自然會隨着距離的增加而衰減，從而產生了強度差。</li>
<li>聲音在低頻時波長還是挺長的，常溫聲速爲 340 米每秒，那這樣的話 20Hz 波長長達 17 米。就算是到了 300Hz 波長仍然有 1.13 米，耳朵就能分辨出相位的不同，聽起來會有一種怪怪的感覺，那種感覺有點像你戴上主動降噪耳機後的感覺。</li>
<li>另一種音色差是因爲人頭和人耳外耳廓的存在對聲音的傳遞產生了阻礙吸收反射的過程，經過這個變換後對音色產生了影響。</li>
</ul><p>基於以上四種聲音的“差”後，我們也就感知到了聲音具體的方位。幾乎所有的遊戲聲音設計和後面玩遊戲的回放系統都是基於這四點理論基礎來設計和完成的。</p>
<p>那麼遊戲聲音的方位是如何設計的呢？</p>
<img class="content-image" src="http://pic3.zhimg.com/70/v2-1ceae63e82c9305d0a91d568d2481036_b.jpg" alt="">
<p>上圖是一個遊戲聲音設計中間件 Wwise 中的一個定義聲音位置的窗口。你看圖中有一個正方形，四周擺放着 5 個音箱代表着 5.1 的回放環境。正中間的十字交叉點就是我們所處的位置。在這個空間裏有四個用線段連起來的四個點，這個四個點代表了一個軌跡，一個從左往右，從綠色點到紅色點的軌跡。當這個被指定的聲音素材回放的時候，軟件會根據你指定的軌跡渲染出聲音移動的軌跡。也就是說你會聽到這個聲音素材從右前方繼續向右邊移動的聲音。而軟件渲染聲音所使用的理論基礎就是我剛纔提到的四點。</p>
<p>當然我不能確定 Wwise 一定就全部使用了基於那四點的算法，有可能只有強度和時間差。</p>
<p>不過並不是全部符合上面四點纔可以讓我們的耳朵察覺到方位，有的時候只基於一兩點，我們也可以做出具有方位感的聲音。比如在音樂多軌混音裏面，Pan 這個參數決定了在各個聲道回放的響度差。一個單聲道的聲音當 Pan 的數值默認爲 0 的時候（以 Protools 爲例）意味着兩個聲道（揚聲器）使用一樣的音量大小回放，在聽覺上給我們的感覺是正中央的聲音，而當 Pan 變成←50 的時候意味着聲音大部分從左聲道出現，我們會有一種聲音從左前方響起的感覺。這種感覺完全基於強度差，而沒有其餘三種差。</p>
<p>回到遊戲聲音設計的問題，大方向就是遊戲聲音設計師給各種動作、物體、角色、場景綁定了對應的聲音，比如開槍的聲音，子彈掉落的聲音，頭頂飛機的聲音，走路腳步的聲音等等，這些聲音按照一定的觸發條件來播放，比如只有玩家在走路的時候纔會發出對應材質的腳步聲，聲音的來源應該是下方。在玩遊戲的時候聲音引擎基於聲音的調用命令調用對應的聲音然後基於聲音相對玩家的位置來即時演算並渲染出這個聲音。That's it!</p>
</div>
</div>




</div>


</div>
</div><script type="“text/javascript”">window.daily=true</script>