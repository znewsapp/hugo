+++
date = "2016-04-18T13:00:00"
title = "兩個異端降服了一個小妖精，於是地球人可以愉快地給手機充電了"
titleimage = "http://pic1.zhimg.com/00e6c223aea1f081be529112bab84078.jpg"
ga = 041813
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">爲什麼旅遊充電器能把不同電壓都轉爲 5V？</h2>

<div class="answer">



<div class="content">
<p>愚蠢的地球人要給手機充電。</p>
<p>其實這個過程和&ldquo;把大象裝進冰箱&rdquo;有異曲同工之妙&mdash;&mdash;地球人需要把家用 220V 交流電降壓成低壓（低壓的數值根據最終需要的電壓而定）的交流電，然後把交流電整流成直流電，最後用電容把直流電裏剩下的交流分量去掉。這樣，他們就得到了可以把手機接上去的 5V 直流電。</p>
<p>以上三步，在電氣汪的黑話裏，被稱爲&ldquo;變壓、整流、濾波&rdquo;。</p>
<p>但是地球人很惆悵。</p>
<p>問題出在變壓器上。整流無非就是四個二極管，濾波無非是個大電容。但是變壓器是個大傢伙。如果在手機充電器里弄個變壓器來降壓，那指望把充電器揣口袋陪着學生跑步是沒啥指望了。拎手上練練麒麟臂吧。</p>
<p>地球人不想過這麼蒸汽朋克的生活。</p>
<p>---</p>
<p>於是地球人點出了第一個異端&mdash;&mdash;【面積等效原理】。</p>
<blockquote><em>面積等效原理：</em><br><em>u-t 圖上面積相同的窄脈衝加在具有慣性的環節上時，環節的輸出響應波形基本相同。低頻段非常接近，僅在高頻段略有差異。</em></blockquote>
<p>看不懂是吧，沒關係。不認識字我們可以看圖。</p>
<img class="content-image" src="http://pic3.zhimg.com/70/f495e02e3598f502d87151230bbd75fa_b.jpg" alt="">
<p>這是四個脈衝，他們的形狀不太一樣。但是他們的面積是相同的。我們把他們加在下面圖 A 的電源側，圖 B 是電路的暫態過程。</p>
<img class="content-image" src="http://pic2.zhimg.com/70/422dde4657a73b7915e663fd76ba7755_b.jpg" alt="">
<p>幾乎完全一樣。（以上兩張圖引自電子發燒友網站）</p>
<p>這說明，如果電源是一個奇奇怪怪的波形，我們可以把它在時間上分成很多小段。每一段的波形都可以用一個同面積的方波脈衝來替代。這樣的替代，並不會改變輸出波形。</p>
<p>什麼，又看不懂了？那繼續上圖。</p>
<img class="content-image" src="http://pic3.zhimg.com/70/1745776e81f4f32f85f02963043fc792_b.jpg" alt="">
<p>圖 A 是我們要模擬的電源波形。我們把它按時間均分，每個時間段內的波形都用 B 圖中面積相等，高度相同的脈衝來替代。</p>
<p>因爲面積（衝量）相等，高度（電壓）相同，所以下面的脈衝只有脈衝的寬度是變化的。我們只要調製下面的脈寬，就可以得到所有波形。時間段分的越細碎，模擬的效果越好。</p>
<p>（上圖來自網絡）</p>
<p>我們如何實現圖 B 的輸出波形呢？繼續上圖。</p>
<img class="content-image" src="http://pic2.zhimg.com/70/fdf394bc9f310ed8b3152ee3efef096d_b.jpg" alt="">
<p>上面這張圖就是 B 波形的原理圖，在有脈衝的時候，我們閉合開關，電阻兩端電壓爲 U，沒有脈衝的時候，開關斷開，電阻兩端電壓爲零。我們通過通斷開關調製了 B 波形，B 波形對於慣性環節的響應和 A 波形一樣。</p>
<p>於是地球人點出了第二個異端&mdash;&mdash;【脈寬調製技術】。</p>
<p>---</p>
<p>現在我們可以幹掉蒸汽朋克版手機充電器裏的變壓器了。</p>
<p>我們通過把家用 220V 的交流電通過全波整流，變成帶有交流分量的直流電。用電容濾掉交流分量後，得到一個穩定的高壓直流電壓，也就是上圖裏的左邊的電源。然後通過控制開關的通斷，得到一個和 5V 直流電的效果完全相同的高頻脈衝電壓。</p>
<p>---</p>
<p>但是我們的電網電壓並不是恆定的 220V，它允許一定範圍的波動。</p>
<p>簡單的說，在一定的範圍內，不管輸入電壓是多少，我們都得輸出 5V 的直流電。</p>
<p>地球人用了【反饋】。</p>
<p>反饋不是新技術，18 世紀中葉就開始應用了，瓦特在他改良的蒸汽機上點出了這項技能。</p>
<p>瓦特的蒸汽機如果轉速過快，其中離心式調速器就會飛速旋轉，離心力使得擺球上升拉動連桿，減少蒸汽閥門的開度，蒸汽進量減少，蒸汽機轉速下降。如果轉速過慢，下垂的擺球拉動連桿打開蒸汽閥門，增加蒸汽量，蒸汽機轉速上升。</p>
<p>於是瓦特蒸汽機可以穩定在一個轉速上。</p>
<p>我們的充電器也是差不多的。如果外接的電源電壓上升，反饋電路會減少開關的開通時間，保證脈衝的面積不變。</p>
<p>只要脈衝的面積不變，輸出電壓就是穩定的。</p>
<p>不過，開關的通斷轉換是需要時間的，所以脈寬不可能無限短，外接電源如果過大，那就控制不住了。如果外接電源太低，即使脈寬很大也控制不住。</p>
<p>反饋控制的範圍，就是輸入電壓的範圍。</p>
<p>---</p>
<p>以下內容爲分析手機充電器電路。電路毫無基礎者請自行退散。</p>
<p>---</p>
<p>評論裏有兩個問題。健哥 @江東俊彥 問反饋的閉環如何實現。還有說我沒答如何穩定在 5V 的。心好累。</p>
<p>隨手畫了張電路圖。</p>
<img class="content-image" src="http://pic4.zhimg.com/70/3fe6e0b494b5f77c471994368a0386a7_b.jpg" alt="">
<p>從左上角看，左上角接入 220V 民用電，經過 D1 和 C1 的半波整流濾波後變成直流電。</p>
<p>R1 是個 10<a href="http://baike.baidu.com/view/1145004.htm">&Omega;</a>的小電阻，它在此電路中作用類似於保險絲。一旦後級故障導致電流過大，他就會捨己爲人的發熱燒燬，以此斷開電路保護後級。</p>
<p>經過簡單處理的直流電，我們用 510k<a href="http://baike.baidu.com/view/1145004.htm">&Omega;</a>取出開關管 MEJ13003 的基極電流。這個開關管可以控制原邊繞組的不斷通斷產生交變磁場。副邊通過變壓器，從中吸取能量。副邊的交變電流再次整流濾波（RF93，C5），供應給負載。當開關管關斷時，原邊電流截止。如果不加由 C2，R3 和二極管構成的通路，原邊將感應出高電壓損壞電路。</p>
<p>最下方的 R5 和 C3，構成正反饋支路，從變壓器上取樣繞組中取樣電壓加在開關管基極上，維持震盪。C4 和穩壓管共同將一個 6V 左右的電壓加在開關管的基極。</p>
<p>當開關管接通，電流流過原邊，線圈充能。電流從開始的 0 不斷增加，同時，R4 的電壓也隨之升高。當電流達到 0.14A 時，電阻 R4 兩端電壓達到 1.4V，C945 導通，MEJ13003 的基極電位爲 0，開關管關斷。由於電路是反激式的，所以副邊吸收能量。一個週期結束。</p>
<p>// 這種充電器設計已經是爛大街的了呃，好一點的有光耦的，此處不展開了。</p>
<p>---</p>
<p>關鍵詞：</p>
<p>面積等效原理、脈寬調製技術、反饋控制</p>
<p>參考資料：</p>
<p>陳堅 《電力電子學：電力電子變換和控制技術》</p>
<p>王兆安 《電力電子技術》</p>
<p>胡壽鬆 《自動控制原理》</p>
</div>
</div>




</div>


</div>
</div>