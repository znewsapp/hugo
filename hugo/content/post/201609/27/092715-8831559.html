+++
date = "2016-09-27T15:00:00"
title = "想在論文中畫出漂亮的插圖，介紹一個利器"
titleimage = "http://pic4.zhimg.com/224dae0e3a5ea869c1370d52d5f5fd8f.jpg"
ga = 092715
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">如何在論文中畫出漂亮的插圖？</h2>

<div class="answer">



<div class="content">
<p>遇到安裝問題的請嘗試 Anaconda 這個 Python 發行版。下載安裝後直接使用即可，它幾乎預裝了所有要用到的科學計算及可視化的庫。</p>
<p>有盆友在評論裏說希望能有完整的教程，確實就這個答案來說，離實際使用還有很大的距離，網上相關的中文資料也不多。不過真要寫起來這個答案也裝不下，況且寫在這個問題下也不是很恰當。等到那天我有專欄了再說吧，到時候也許會寫一個關於可視化的系列教程。</p>
<hr>
<p>強烈推薦 Python 的繪圖模塊 <a href="http://matplotlib.org/">matplotlib: python plotting</a> 。畫出來的圖真的是高端大氣上檔次，低調奢華有內涵~ 適用於從 2D 到 3D，從標量到矢量的各種繪圖。能夠保存成從 eps, pdf 到 svg, png, jpg 的多種格式。並且 Matplotlib 的繪圖函數基本上都與 Matlab 的繪圖函數名字都差不多，遷移的學習成本比較低。開源免費。如圖所示（題目描述中的圖在最後）：</p>
<p>（以下圖片均引用自 <a href="http://matplotlib.org/gallery.html">Thumbnail gallery</a> ）</p>
<p>像這種普通的函數圖象：</p>
<img class="content-image" src="http://pic3.zhimg.com/70/9dcde02a94b66149d7bff788e911a2d6_b.jpg" alt="">
<div class="highlight">
<pre><code class="language-python"><span class="n">plt</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="s1">'b'</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
</code></pre>
</div>
<p>以及這種 Scatter 圖（中文不知道該怎麼說&hellip;&hellip;）：</p>
<img class="content-image" src="http://pic3.zhimg.com/70/7f4dc2f170b652cf141b04410cf9ce4e_b.jpg" alt="">
<div class="highlight">
<pre><code class="language-python"><span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="n">area</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</code></pre>
</div>
<p>精緻的曲線，半透明的配色。都顯出你那高貴冷豔的 X 格，最重要的是隻需一行代碼就能搞定。從此以後再也不用忍受 Matlab 以及 GNUPlot 中那蛋疼的配色了。</p>
<p>想畫 3D 數據？沒有問題（不過用 mayavi 可能更方便一些)：</p>
<img class="content-image" src="http://pic1.zhimg.com/70/eba48f055966d5f1d310b5fed9562884_b.jpg" alt="">
<div class="highlight">
<pre><code class="language-python"><span class="n">ax</span><span class="o">.</span><span class="n">plot_surface</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">rstride</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">cstride</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">cset</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">zdir</span><span class="o">=</span><span class="s1">'z'</span><span class="p">,</span> <span class="n">offset</span><span class="o">=-</span><span class="mi">100</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="o">.</span><span class="n">coolwarm</span><span class="p">)</span>
<span class="n">cset</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">zdir</span><span class="o">=</span><span class="s1">'x'</span><span class="p">,</span> <span class="n">offset</span><span class="o">=-</span><span class="mi">40</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="o">.</span><span class="n">coolwarm</span><span class="p">)</span>
<span class="n">cset</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">zdir</span><span class="o">=</span><span class="s1">'y'</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cm</span><span class="o">.</span><span class="n">coolwarm</span><span class="p">)</span>
</code></pre>
</div>
<p>四行代碼你就能擁有（後三行是畫座標平面上的等高線，嚴格的額說還是一行）。</p>
<p>除此以外，不過你是矢量場，網絡還是什麼奇葩的需求都能夠搞定：</p>
<img class="content-image" src="http://pic3.zhimg.com/70/b66a7c4a11bca84facd28f63f7faf856_b.jpg" alt="">
<div class="highlight">
<pre><code class="language-python"><span class="n">plt</span><span class="o">.</span><span class="n">streamplot</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">U</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">U</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">autumn</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">colorbar</span><span class="p">()</span>
</code></pre>
</div>
<img class="content-image" src="http://pic3.zhimg.com/70/c13d8783f35b4f8f1975df6096d7d8fe_b.jpg" alt="">
<div class="highlight">
<pre><code class="language-python"><span class="n">plt</span><span class="o">.</span><span class="n">triplot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">triangles</span><span class="p">,</span> <span class="s1">'go-'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'triplot of user-specified triangulation'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">'Longitude (degrees)'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'Latitude (degrees)'</span><span class="p">)</span>
</code></pre>
</div>
<img class="content-image" src="http://pic1.zhimg.com/70/d1019455f649f11c1319e07f6d0289cc_b.jpg" alt="">
<div class="highlight">
<pre><code class="language-python"><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">,</span> <span class="n">polar</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">bars</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">radii</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.0</span><span class="p">)</span>
</code></pre>
</div>
<p>這還沒完，Matplotlib 還支持 LaTeX 公式的插入，當別人畫的圖還是這個樣子的時候（以下圖片引用自&nbsp;<a href="http://reverland.org/python/2012/09/07/matplotlib-tutorial/">Matplotlib Tutorial(譯)</a>）</p>
<img class="content-image" src="http://pic1.zhimg.com/70/be83c4bef6ac993380740ff35a7ef050_b.jpg" alt="">
<p>你能夠把它變成這個樣子：</p>
<img class="content-image" src="http://pic3.zhimg.com/70/605ab7e12cdd5b294fcbeaa283e3feae_b.jpg" alt="">
<p>如果再搭配上 IPython 作爲運行終端（這張圖是自己的~）：</p>
<img class="content-image" src="http://pic4.zhimg.com/70/df5c59d1de1d3028e9ceb06b40e6e613_b.jpg" alt="">
<p>簡直就是神器啊，有木有！</p>
<p>心動不如行動，還等什麼？</p>
<p>（奉上教程一篇 <a href="http://reverland.org/python/2012/09/07/matplotlib-tutorial/">Matplotlib Tutorial(譯)</a>）</p>
<p>Update: 2013-9-18 18:04</p>
<p>經@許鋮同學提醒，再補充一句，matplotlib 還可以話 xkcd 風格的圖呦~</p>
<img class="content-image" src="http://pic2.zhimg.com/70/3328cfcbe479f0fedf77affe929bb925_b.jpg" alt="">
<p>（圖片引用自網絡）</p>
<p>此外結合 IPython Notebook 後更多精彩內容，請看&nbsp;<a href="http://nbviewer.ipython.org/">http://nbviewer.ipython.org/</a></p>
<p>Update: 2013-9-19 20:04</p>
<p>如果嫌安裝麻煩並且恰好在 Windows 系統下的話可以嘗試 Python 的一個發行版&nbsp;<a href="https://code.google.com/p/winpython/">winpython - Portable Scientific Python 2/3 32/64bit Distribution for Windows</a>。</p>
<p>Update: 2013-10-1 23:45</p>
<p>鑑於@van li 同學質疑 matplotlib 是否能畫出題目中所示的圖像，我在這裏將題目中的圖像用 matplotlib 畫出來如下：</p>
<img class="content-image" src="http://pic2.zhimg.com/70/d86072b7a3f5d9b706531fbe492adfed_b.jpg" alt="">
<p>代碼在此處：<a href="https://gist.github.com/coldfog/c479124328fc6bb8b789">https://gist.github.com/coldfog/c479124328fc6bb8b789</a></p>
<img class="content-image" src="http://pic4.zhimg.com/70/9b8c7c6f3f39394dd2533b752adff2cb_b.jpg" alt="">
<p>代碼在此處：<a href="https://gist.github.com/coldfog/5da63a6958fc0a949b52">https://gist.github.com/coldfog/5da63a6958fc0a949b52</a></p>
<p>2014.5.10 更新</p>
<p>看到樓下有人說配色好看，唉&hellip;&hellip;那我也貼幾個吧&hellip;&hellip;只不過當初限於篇幅沒有寫而已。</p>
<p>首先，Python 有一個專門的配色包&nbsp;<a href="https://github.com/jiffyclub/brewer2mpl">jiffyclub/brewer2mpl 路 GitHub</a>，提供了從美術角度來講的精美配色（戳這裏感受&nbsp;<a href="http://colorbrewer2.org/">ColorBrewer: Color Advice for Maps</a>）。</p>
<p>此外還有一些致力於美化繪圖的庫，用起來也都非常方便，比如&nbsp;<a href="https://github.com/olgabot/prettyplotlib">olgabot/prettyplotlib 路 GitHub</a>。</p>
<p>廢話不多說，上圖就是王道。</p>
<p>（一下圖片來源網絡）</p>
<img class="content-image" src="http://pic2.zhimg.com/70/84574fbf9ffed77c39d1549111cce3a5_b.jpg" alt="">
<img class="content-image" src="http://pic1.zhimg.com/70/6d477f83e9dbb7533f0eb526c2cbbadc_b.jpg" alt="">
<img class="content-image" src="http://pic1.zhimg.com/70/51ac0d0574b1554485f6b936e7b67a3c_b.jpg" alt="">
<p>有人可能會說需要複雜的設置，其實也不用。比如上邊這幅圖，只需要多加一個參數就好：</p>
<div class="highlight">
<pre><code class="language-python"><span class="n">cmap</span><span class="o">=</span><span class="n">brewer2mpl</span><span class="o">.</span><span class="n">get_map</span><span class="p">(</span><span class="s1">'RdBu'</span><span class="p">,</span> <span class="s1">'diverging'</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">mpl_colormap</span><span class="p">,</span>
</code></pre>
</div>
<p>樓下說到統計繪圖。嘛 seaborn (<a href="https://github.com/mwaskom/seaborn">https://github.com/mwaskom/seaborn</a>) 是一個調用 matplotlib 的統計繪圖庫，上圖：</p>
<img class="content-image" src="http://pic1.zhimg.com/70/0b554989cf11e48108d7cfea831fa6e4_b.jpg" alt="">
<p>代碼一行，後邊的幾乎都是一行，沒做其他設置，默認就這樣。我就不貼其他的代碼了：</p>
<div class="highlight">
<pre><code class="language-text">g = sns.jointplot(x1, x2, kind="kde", size=7, space=0)
</code></pre>
</div>
<img class="content-image" src="http://pic3.zhimg.com/70/6bdaaee539739245344d607731ef671a_b.jpg" alt="">
<img class="content-image" src="http://pic4.zhimg.com/70/521a87cbbd811638eb64b693b87b6297_b.jpg" alt="">
<img class="content-image" src="http://pic3.zhimg.com/70/1cfcfc6944cd876536581774cc8576b6_b.jpg" alt="">
<img class="content-image" src="http://pic4.zhimg.com/70/f3ad883d7456f4178e4d2a9df53edadf_b.jpg" alt="">
<img class="content-image" src="http://pic1.zhimg.com/70/d0faecb6b8e7507c4f4f9572f38629f4_b.jpg" alt="">
<p>這還有個更炫酷的可交互式的繪圖，大家自己戳開看吧&nbsp;<a href="http://nbviewer.ipython.org/github/plotly/python-user-guide/blob/master/s0_getting-started/s0_getting-started.ipynb">http://nbviewer.ipython.org/github/plotly/python-user-guide/blob/master/s0_getting-started/s0_getting-started.ipynb</a></p>
<p>哼哼，完爆了吧~~~~\(≧▽≦)/~</p>
</div>
</div>




</div>


</div>
</div>