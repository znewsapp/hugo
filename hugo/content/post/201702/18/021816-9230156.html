+++
date = "2017-02-18T16:00:00"
title = "有些安卓手機用上了 6GB 內存，是實用還是性能過剩？"
titleimage = "http://pic4.zhimg.com/9611386e0a8ae18bafa05b8c801a2293.jpg"
ga = 021816
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title"></h2>

<div class="answer">

<div class="content">
<p>文章來自<a href="https://www.zhihu.com/org-intro">機構帳號</a>：<a class="author-link" href="https://www.zhihu.com/org/360-shou-ji" target="_blank">360手機</a></p>
</div>
</div>


</div>





<div class="question">
<h2 class="question-title"></h2>

<div class="answer">



<div class="content">
<p>出於衆所周知（並不）的原因，我最近認真瞭解了一下 6GB 內存到底有沒有用。所以今天，我這個不務正業以抖機靈爲生的機構號終於要輸出乾貨了。</p>
<p>這個問題是 2016 年提的，那個時候確實是有意義的，因爲當時配備 6GB 內存的手機相當少，<strong>整個生態環境沒有跟上，大內存顯示出優勢的場景非常有限。但是在 2017 年就不是這麼回事了。</strong>因爲內存這個東西，不像處理器，在某種意義上說，是不存在&ldquo;過剩&rdquo;這個問題的。<strong>只要產業鏈開始鋪貨新的規格，軟件對內存的需求一定會迅速跟上，水漲船高。</strong></p>
<p>就拿我們最熟悉的微信舉例，從 2.3 版本到 6.5 版本的迭代中，隨着手機主流內存規格的不斷上漲，<strong>微信的內存佔用也從 30M 增加到了 227M，足足增加了 6 倍多</strong>。</p>
<img class="content-image" src="http://pic4.zhimg.com/70/v2-25506b5752922e1c8a681e973f5a7673_b.jpg" alt="">
<p><em>（數據通過下載安智市場微信各歷史版本實測得到，原諒我的渣作圖）</em></p>
<p>處理器現在顯得過剩的原因不是因爲我們不需要那麼高的性能，很大程度上是因爲電池技術遲遲難以突破，壓在上面，限制着手機的整體功耗。<strong>所以雖然有了高性能處理器，但是大多數應用對性能的需求不會跟着成比例的漲。</strong></p>
<p>而內存不同，一旦硬件上的技術和成本開始可以支持更大的內存，應用對內存的開銷一定會跟上。<strong>因爲在現階段，佔用更多的內存確實可以換取更好的性能，更多的功能，或者更短的開發時間，</strong>對續航也沒太大影響。也就是說<strong>，整個生態環境對內存的需求一定會增長並適應新的主流內存大小。</strong>畢竟，硬件環境已經有了，也可以給用戶更好的體驗，爲什麼不呢？</p>
<p>這就是爲什麼我說 2016 年的 6GB 優勢場景或許不多，而 2017 年的 6GB 對提升體驗已經非常實用的原因了。<strong>因爲隨着今年 6GB 內存的普及，應用在開發的時候，也會適應新的硬件環境，增大內存開銷，獲取更好的體驗。</strong>如果相應的手機配置不跟進的話，一定會在某些環境下捉襟見肘。</p>
<p>其實安卓生態本身的變化史就是一部內存開銷的增長史。不說別的，就說安卓系統本身，從 07 年安卓 Beta 版首次發佈至今，將近 10 年時間裏，從當初 1.0 原生系統僅佔用 100M 內存，到現在 6.0、7. 0 系統開機就會吃掉近 2GB 的內存，<strong>足足翻了 20 倍！</strong></p>
<img class="content-image" src="http://pic3.zhimg.com/70/v2-1ac4d82646398d0038075ac8e0c4517a_b.jpg" alt="">
<p>上圖是實測的現在安卓手機常用 app 的內存佔用量。以 4GB 手機爲例，系統佔用內存在 1.8G 左右，倘若再掛着微信微博 QQ，聽着歌一邊刷網頁一邊刷知乎，這內存就差不多到頭了，再開應用有些後臺就會被殺掉。<strong>其實 4GB 的內存真的已經沒有那麼寬裕了。</strong></p>
<p><strong>所以隨着工業界量產內存規格的增長，系統和程序體量也會水漲船高。而越來越大的系統和應用，會倒逼手機廠商在新生產的手機中配備更高的內存，這是一個相互促進，螺旋上升的過程。</strong>2017 年如果還想在使用手機時不會因爲運存不夠而感到掣肘，確實是需要配備 6GB 了。（好吧，起碼我廠是這麼想的。）</p>
<p>最後給大家科普兩個我這兩天研究內存問題學到的 tips：</p>
<p>一、<strong>當系統運存小於等於一定值（這個定值大於 0，在我們的手機裏大概是 300M）的時候，系統就會自動根據應用程序的重要程度（ADJ 值），由輕往重逐級去殺，直至留出足夠的運行內存。</strong>這種資源回收的機制是安卓系統所規定的，留出的這個定值是給電話這種手機基礎功能和開啓新的應用準備的。</p>
<p>在關閉進程的時候，不同應用的重要層次結構可以分爲 5 個類別，分別是空進程、後臺進程、服務進程、可見進程和前臺進程，這裏面第一個重量級最低，往往會被首先回收，越往後越重要。（更詳細的分級介紹可參考<a href="https://developer.android.com/guide/components/processes-and-threads.html">https://developer.android.com/guide/components/processes-and-threads.html</a>）在我上面舉例的情況中，網頁就會首先被殺掉。</p>
<p>二、很多人都經歷過：<strong>&ldquo;我內存很大，明明只開了幾個程序，還有 1GB 多的 RAM，爲什麼放後臺還是被殺死了呢？&rdquo;</strong></p>
<p>其實你的後臺很有可能不是被殺死，而是被<strong>&ldquo;開屏&rdquo;</strong>了。導致你誤以爲程序被殺死以至於應用重啓。</p>
<p>很多情況下，程序是需要連接服務器來加載一些數據，例如淘寶的商品推薦，餓了麼的外賣店家，微博等等。數據越大，加載的時間就得越久，而當數據還沒被加載出來的時候，會非常影響當前畫面的展示，致使用戶體驗變差，就像這樣。</p>
<img class="content-image" src="http://pic4.zhimg.com/70/v2-b77b1f45e23e9d2dbd40c7491b778487_b.jpg" alt="">
<p>於是乎，<strong>很多應用會選擇在數據加載完成之前，&ldquo;蓋&rdquo;上一張開屏圖來掩飾部分板塊的空白，這就造成了程序重啓的假象</strong>，實則是程序依舊在後臺運行。正如很多人切換回微博的時候，也會彈出開屏圖，可一旦進去後就會發現頁面依舊停留在當初瀏覽的地方，這就是一個拿開屏圖&ldquo;蓋&rdquo;主頁面的一個比較常見的例子。<strong>但是這個真的不是內存的鍋，再大的內存都會這樣，更多的是網速和應用優化的問題。</strong></p>
<img class="content-image" src="http://pic2.zhimg.com/70/v2-f6aab66694dddf7d46da517bc20e80ed_b.jpg" alt="">
<p><strong>感謝閱讀。</strong></p>
</div>
</div>




</div>





<div class="question">
<h2 class="question-title"></h2>

<div class="answer">

<div class="content">
<p>「知乎<span class="lG">機構</span><span class="lG">帳號</span>」是<span class="lG">機構</span>用戶專用的知乎<span class="lG">帳號</span>，與知乎社區內原有的個人<span class="lG">帳號</span>獨立並行，其使用者爲有正規資質的組織<span class="lG">機構</span>，包括但不限於科研院所、公益組織、政府機關、媒體、企業等。這不僅是知乎對<span class="lG">機構</span>的「身份認證」，更是涵蓋了內容流通機制、<span class="lG">帳號</span>規範等全套<span class="lG">帳號</span>體系。和個人<span class="lG">帳號</span>一樣，<span class="lG">機構</span><span class="lG">帳號</span>開通不需要任何費用，同時也受社區規範的監督管理，並要遵守相關協議。目前<span class="lG">機構</span><span class="lG">帳號</span>入駐採用邀請制。您可以通過 &nbsp;<a href="http://zhihu.com/org-intro" target="_blank">什麼是「知乎機構帳號」</a>&nbsp;來了解更多<span class="lG">機構</span><span class="lG">帳號</span>信息。&nbsp;</p>
</div>
</div>


</div>


</div>
</div>