+++
date = "2017-01-14T10:00:00"
title = "比現實早很多，遊戲中就有了「霧霾」的設定"
titleimage = "http://pic3.zhimg.com/73e428d6a0a47b701a397155f1dadd56.jpg"
ga = 011410
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">



<div class="question">
<h2 class="question-title">戰爭迷霧機制考據——一個由霧霾引發的腦洞</h2>
<div class="answer">



<div class="content">
<blockquote>去年 12 月下旬以來，京津冀及周邊地區頻繁出現嚴重霧霾，霧霾遮蔽了陽光，讓居民視野受限，開車走路皆是提心吊膽，連路邊的草叢都立刻變得可疑了起來&mdash;&mdash;這魔幻的風格、陰暗的色調、有限的視野，可不就是 LOL 的對戰環境麼，霧霾對應的就是遊戲中的戰爭迷霧了。<br><br>戰爭迷霧，是現在的遊戲玩家早已司空見慣的一種機制，無論是 RTS、SLG、RPG，它在多種形式的遊戲中普遍存在着。對 LOL 的玩家而言，戰爭迷霧機制早已是&ldquo;最熟悉的陌生人&rdquo;，熟悉，是因爲它的機制十分簡單，甚至無須專門解釋，陌生，則是很多人對它的歷史並不瞭解。</blockquote>
<p><strong><strong>戰爭迷霧的本意</strong></strong></p>
<p>戰爭迷霧（Fog Of War）這個詞組的本意，指的是軍事行動的參與者身處戰場環境時所感受到的不確定性，它的歷史，要比電子遊戲的歷史久得多。</p>
<p>普遍認爲普魯士軍事家克勞塞維茨是&ldquo;戰爭迷霧&rdquo;理論的奠基者，在他的軍事理論鉅著《戰爭論》中，他如是寫道：戰爭是一個充滿不確定性的領域，軍事行動所根據的因素總有四分之三隱藏在迷霧之中，迷霧帶來的不確定性或大或小。由此，就需要敏銳與明察秋毫的判斷力，與經驗豐富能嗅探出真相的情報人員。1896 年，又一本名爲《戰爭迷霧（The Fog Of War）》的軍事理論書籍面世，Fog of War 這種組詞方式，開始爲普羅大衆所接受。</p>
<p>戰爭迷霧的本質是獲取情報信息的障礙，這一點無論過去還是現在，都一直存在。軍事家很早就發現了情報對於戰爭的重要性，兩千多年前的兵法大家孫武，就在著作《孫子兵法》中不斷地強調掌握信息主動權的重要性，如《用間篇》中，有這樣幾句話：&ldquo;不知敵之情者，不仁之至也，非人之將也，非主之佐也，非勝之主也。故明君賢將，所以動而勝人，成功出於衆者，先知也。先知者，不可取於鬼神，不可象於事，不可驗於度，必取於人，知敵之情者也。&rdquo;在孫武看來，不做好情報工作的指揮官，等同於盲目揮霍國力和軍力，是沒有資格做明君賢將的，並且要事實求是靠情報人員做好偵查工作，不能問鬼神靠玄學，意識可謂相當超前。</p>
<p>在電子遊戲出現之前，&ldquo;戰爭迷霧&rdquo;的理念也在很多遊戲中有過應用。比如中國象棋中的&ldquo;暗棋&rdquo;玩法，就是全局式的戰爭迷霧，對弈雙方對局面一無所知，暗棋玩法，強調的便是&ldquo;隨機應變&rdquo;。而麻將或橋牌等對抗性牌類遊戲，也是一種典型的對戰爭迷霧的應用，玩家僅僅知道自己手牌的情況，需要通過鋪墊、試探、猜測來對對手和隊友的手牌有一個模糊的估算，最終通過獲取的信息來進行攻防。在桌遊中，也有遊戲創作者試圖在桌遊中營造出戰爭迷霧的氛圍，通常的手段是對雙方兵力信息進行掩蓋，或是以&ldquo;暗棋&rdquo;方式進行較量。</p>
<p><strong><strong>電子遊戲中戰爭迷霧設計的起源</strong></strong></p>
<p>關於電子遊戲中戰爭迷霧系統的起源，筆者在進行了相關搜索之後，發現並沒有一個確切的說法，但種種線索都指向了一款 1977 年發佈的回合制策略遊戲&mdash;&mdash;《Empire（帝國）》。《Empire》是維基百科記載的最早的回合制策略遊戲，其作者爲 Walter Bright，他不但是早期的電子遊戲開發者之一，也是一位程序員大牛&mdash;&mdash;他參與了最早的 C++ 編譯器的開發，還創造了 D 語言。這樣一位程序員界的天王巨星，找到他的個人主頁和郵箱可以說不費吹灰之力。筆者在 Walter Bright 的主頁上看到了《Empire》的相關資料，並通過電子郵件向 Walter Bright 詢問《Empire》是不是第一款使用了戰爭迷霧系統的電子遊戲。Walter 迅速給了一個簡潔的回覆：沒錯，Empire 是第一個。</p>
<img class="content-image" src="https://pic1.zhimg.com/v2-18391643c546b01b5e3f56ce49e71e4c_b.jpg" alt="">
<p>▲電影《不列顛之戰》中兵棋推演的畫面</p>
<p>在 Walter Bright 的官網上，他講述了他開發這款遊戲時的靈感來源，其中之一就是電影《不列顛之戰》，電影中這一幕兵棋推演的畫面，激發了他開發《Empire》的靈感。1971 年，當時年僅 14 歲的 Walter 在一塊木板上畫上了地圖以及 4*8 的格子，手工製作了一些棋子，試圖自己創作一款兵棋遊戲，但他發現這一切並不可行，在他所構思的玩法中，玩家需要關注大量的數據，而且還需要一個完全配合他進行遊戲的對手。他暫時擱置了這款遊戲的創作。在他就讀於加州理工大學之後，他得到了使用計算機的權限，課餘時間就在計算機上玩着當時那些&ldquo;糟糕而且不值得銘記&rdquo;的電子遊戲。很快他就感到了厭倦。</p>
<img class="content-image" src="https://pic4.zhimg.com/v2-67a348dc4ebeb9673b2e230d9da4e2d7_b.jpg" alt="">
<p>▲大型計算機 PDP-10 和終端設備電傳打字機。圖片來自<a class=" external" href="https://link.zhihu.com/?target=http%3A//simulogics.com" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">simulogics.com</span><span class="invisible"></span></a></p>
<p>百無聊賴的 Walter Bright 想起了自己年少時嘗試創作的那款遊戲，他發現計算機這樣一個平臺可以解決他之前遇到的諸多問題，Walter Bright 試着用他高中階段就學會的 Basic 語言開發出這款遊戲，在發現行不通之後，又轉而學習 FORTRAN 語言，然而他又受到了終端設備的限制&mdash;&mdash;當時他們所能使用的終端設備爲電傳打字機，開發再度受阻。直到顯示器的出現，爲 Walter 掃清了所有的障礙。</p>
<p>經過經年累月的開發和嘗試之後，Walter 在大型計算機 PDP-10 上開發出了讓大量加州理工學生廢寢忘食的電子遊戲《Empire》，但由於遊戲中的&ldquo;電腦對手&rdquo;佔用了大量 PDP-10 計算機的資源，系統管理員開始約束學生玩這款遊戲。由於缺乏相關的影音資料，我們無法確切地得知在大型計算機上玩《Empire》是種什麼體驗，但可以想象在那個年代，學生接觸到這款遊戲時應該不亞於人類祖先取得火種時的感覺，《Empire》讓加州理工大學的學生們沉迷其中無法自拔，幾名學生因爲沉迷其中而荒廢學業遭到退學，Walter 本人也受到了威脅。</p>
<p>不過大型計算機的稀缺性決定了這款遊戲即便有着超前的遊戲性，也註定了它只能在極小部分人羣中流行，而在多年後，Walter 才知曉，它的遊戲正在民間不斷地被&ldquo;盜版&rdquo;並移植到了不同的系統上，版權信息也遭到了抹除。</p>
<img class="content-image" src="https://pic1.zhimg.com/v2-4e38d881940dbee20a0f73e6ed19bf4c_b.jpg" alt="">
<p>▲《Empire》以字母來表示空軍、陸軍、海軍等單位，綠色爲陸地、藍色爲海洋，黑色則是未探索的區域</p>
<p>在加州理工大學期間，Walter 靠着爲 Intellivision 家用遊戲機系統做遊戲開發而獲得了一些收入，但他認爲 Intellivision 遊戲機無法承載《Empire》這樣的遊戲，也不想把遊戲移植到 Apple II 個人電腦上。直到 IBM 個人電腦開始普及，Walter 接觸到 C 語言之後，他認爲適合《Empire》的時機又再度出現了。他通過 C 語言重構了遊戲，將《Empire》移植到了 IBM PC 上。筆者從 Walter Bright 的官網上找到一款基於 DOS 系統運行的《Empire》，從圖片上我們可以看到，這款遊戲以字母來表示海陸空等軍事單位，綠色爲陸地、藍色爲海洋，黑色則是未探索的區域，也即是說，電子遊戲中戰爭迷霧的雛形，在 1980 年前後就已經出現了。</p>
<p>Walter Bright 的判斷是正確的，通過一定的宣傳，他收到了裏來自全國各地的訂單，再將遊戲的拷貝放在信封裏寄出，幾乎處於坐等收錢的狀態。他也由此萌生了將遊戲正式商業化的想法，但大型的遊戲公司對他的作品並不感興趣，直到一家名爲 Interstel 的小公司認可了他的遊戲，併爲其增加了圖形界面，將遊戲改名爲《Empire: Wargame of the Century（帝國：世紀最佳兵棋遊戲）》後發行&mdash;&mdash;在那個年代，即時戰略或回合制策略遊戲的稱呼尚不流行。這款遊戲正式上市後市場反響熱烈，遊戲也獲得了《電腦遊戲世界》雜誌的 1988 年年度遊戲稱號，在隨後《電腦遊戲世界》的玩家投票和遊戲評選欄目中，《Empire: Wargame of the Century》的評價也一直居高不下。</p>
<img class="content-image" src="https://pic2.zhimg.com/v2-a05e1c42088bc92d8bde28aacc71f941_b.jpg" alt="">
<p>▲1987 年《Empire》重製版《Empire: Wargame of the Century》中的戰爭迷霧</p>
<p>這款 1987 年的作品繼承了 1977 年原始版本《Empire》的戰爭迷霧設定，黑色的迷霧掩蓋着尚未探索的區域，但有一點跟現在玩家理解的戰爭迷霧機制仍有所不同&mdash;&mdash;在《Empire》中，經過探索後的區域，視野便會一直可見，而不是我們今天在遊戲中常見的，探索後如果沒有友軍單位視野，那你只能看到該區域的地形。</p>
<p>1992 年的 RTS 遊戲開山之作《沙丘魔堡 2》同樣採用了與《Empire》一樣的戰爭迷霧機制，雖然 RTS 這種說法並不是《沙丘魔堡 2》首創，但《沙丘魔堡 2》卻普及了 RTS 這一概念（如同 LOL 之於 MOBA），《沙丘魔堡 2》的成功使戰爭迷霧、鼠標操控、資源採集、基地建設成爲了 RTS 的標配元素。</p>
<p>隨後，暴雪 1994 推出的《魔獸爭霸 1：人類與獸人》，Westwood1995 年的《命令與征服》都採用這種戰爭迷霧機制，但是很明顯，這種開圖後就一勞永逸的戰爭迷霧並不能很好地模擬戰爭中指揮官總是基於有限信息作出指令的狀態。玩過 RTS 遊戲的玩家都知道，遊戲中通過作弊指令&ldquo;開全圖&rdquo;，威力一點不遜於其他作弊方式&mdash;&mdash;而現在的玩家常把視野全開叫做&ldquo;上帝視角&rdquo;。因此，從《Empire》到《沙丘魔堡 2》，這種使用了十多年但一直沒怎麼變動的戰爭迷霧機制，會使遊戲在玩家開圖後難度銳減，情報偵查這一戰爭的重要元素也變得無足輕重。</p>
<img class="content-image" src="https://pic3.zhimg.com/v2-79111c62fc329216327d08a3d0c24dda_b.jpg" alt="">
<p>▲《魔獸爭霸 2》的雙重戰爭迷霧設計</p>
<p>爲了解決這樣的問題，在暴雪 1995 年推出的《魔獸爭霸 2》中，遊戲設計師引入了更加成熟的雙層戰爭迷霧，當未探索區域的黑霧被驅散之後，還有一層隨着友軍單位視野而不斷變化的灰霧&mdash;&mdash;在暴雪前研發副總裁 Patrick Wyatt 的博客文章《The Making Of Warcraft》下，有網友在留言中非常形象地將這一層迷霧稱之爲&ldquo;動態戰爭迷霧&rdquo;，但 Patrick Wyatt 則表示，在暴雪內部，對這種新設計並沒有一種對應的新說法，他們還是統稱爲&ldquo;戰爭迷霧&rdquo;。</p>
<img class="content-image" src="https://pic2.zhimg.com/v2-4d58ac2a236c58a74ac64760e6f0e4b1_b.jpg" alt="">
<p>▲1997 年的 RTS 遊戲《橫掃千軍》，採用了雙層戰爭迷霧，並且引入了雷達的概念，可以透過迷霧偵測到敵人</p>
<p>但很多遊戲開發者並沒有跟進這革命性的戰爭迷霧設計，革命的過程是緩慢的。1997 年，兩款 RTS 大作《帝國時代》與《橫掃千軍》先後發佈，它們均採用了雙層戰爭迷霧機制。加上 1998 年發行後風靡數十年的《星際爭霸》，這幾款作品，基本上將包含動態戰爭迷霧的設計確定成了 RTS 遊戲的標配。雙重的動態戰爭迷霧，給遊戲帶來了更加複雜的體驗，就如克勞塞維茨所說：軍事行動所根據的因素總有四分之三隱藏在迷霧之中。</p>
<p>因此我們基本上可以確定，1977 年發佈、1987 年正式商業化發售的《Empire》是戰爭迷霧機制的開創者，而 1995 年發佈的《魔獸爭霸 2》是戰爭迷霧機制的革新者，爲了確定這一推論的準確性，筆者試着向前暴雪研發副總裁 Patrick Wyatt 發去了郵件，意外的是，筆者得到了 Patrick 頗爲詳實的回覆。在回覆中，Patrick 將戰爭迷霧機制稱爲&ldquo;電子遊戲的一次進化，代表着遊戲玩法的一次大變動&rdquo;，就筆者提出的問題，Patrick 作爲《Empire》的老玩家，同意《Empire》是第一款使用了戰爭迷霧機制的遊戲的說法。而作爲《魔獸爭霸 1》、《魔獸爭霸 2》、《星際爭霸》戰爭迷霧機制的程序開發者，Patrick 也相信是《魔獸爭霸 2》第一次使用了這樣的雙層戰爭迷霧。筆者也觀看了《魔獸爭霸 2》之前的約二十款 RTS 以及回合制策略遊戲的圖像資料，發現確實沒有哪款遊戲雙層戰爭迷霧的設定。</p>
<p>Patrick Wyatt 還提到《星際爭霸》採用了更復雜的戰爭迷霧設計&mdash;&mdash;在《星際爭霸》中，單位的視野還受到地勢高低以及地形的阻擋。但 Patrick Wyatt 沒有說的是，《星際爭霸》是一款 2D 遊戲，在視野上卻作了 3D 化的處理，如果沒有這些細緻的考量，《星際爭霸》恐怕很難風靡全球並引領風騷十餘年。</p>
<img class="content-image" src="https://pic1.zhimg.com/v2-b36443dfb044824bf11de95c3940de7c_b.jpg" alt="">
<p>▲2016 年回合策略制遊戲《文明 6》的戰爭迷霧設計</p>
<p>由《Empire》開創的戰爭迷霧機制，經過一代代策略遊戲的不斷傳承，到了《魔獸爭霸 2》，終於有了開創性的新設計，玩家獲取情報的方式，從單純的探索，變成了探索、駐守、巡邏等一系列複雜的情報活動。但有一點一直沒怎麼變化，那就是戰爭迷霧的顏色&mdash;&mdash;黑色。不過，近年來隨着美術設計和計算機硬件水平的提升，戰爭迷霧的樣式正在變得越來越豐富，比如《文明 6》用羊皮紙來表示尚未探索的黑霧，再加一層高灰度的黃色來表示灰霧，《文明 5》則用白雲來表示尚未探索的黑霧，但仍舊用灰色來表示灰霧。</p>
<p>而戰爭迷霧的應用也並不侷限於策略類遊戲中，RPG 也常用戰爭迷霧，來強化玩家的探索體驗，營造出不確定性以及由此帶來的不安、恐懼等遊戲氛圍。</p>
<p><strong><strong>英雄聯盟中的戰爭迷霧</strong></strong></p>
<img class="content-image" src="https://pic2.zhimg.com/v2-0cf574275933520d043890af4eaa63f5_b.jpg" alt="">
<p>暴雪的設計師們對戰爭迷霧的探索並未就此結束，在《魔獸爭霸 3》中，雙層迷霧和單層迷霧同時存在&mdash;&mdash;戰役模式仍舊是雙層迷霧，賦予了戰役模式更強的探索氛圍，強化了戰役模式的角色扮演體驗；而對戰模式則採用單層動態迷霧，地圖上不再有黑霧覆蓋&mdash;&mdash;這是因爲 WAR3 的對戰地圖是固定的，而不像《文明》、《帝國時代》是隨機生成的，玩家在遊戲開始前就知道地圖上的信息，黑霧失去了一定的意義。除此之外，《魔獸爭霸 3》的單位視野還受到地形、地勢、日夜的影響，戰爭迷霧與視野的互動機制已經考量得非常周到。之後基於 WAR3 平臺的 DOTA 自然沿襲了這一系列相關的設計，而基於 DOTA 玩法開發的 LOL，自然而然也採用了單層動態迷霧，但並沒有保留 WAR3 中日夜和地勢對視野的影響。</p>
<p>但 LOL 又有創新之處，那便是草叢。作爲一種地形特徵，草叢的設計靈感來源於 WAR3 中的樹林，它繼承了樹林作爲地形單位對單位視線進行阻擋的功能，但它卻沒有碰撞體積，單位可以在其中行走並影響對方視野。在前文，我們提到，戰爭迷霧的本意是軍事行動的參與者身處戰場環境時所感受到的不確定性，而電子遊戲中的戰爭迷霧設計，本質上是對情報信息的掩蓋，令所有的遊戲參與者都感覺到不確定性。草叢於是就成爲一個不同於傳統地形的微妙存在，正如流傳在民間的經典格言&ldquo;你永遠不知道草叢裏是否躲着一個蓋倫&rdquo;所言，草叢永遠是 LOL 裏一個蘊含着大量不確定性信息的存在。</p>
<p>關於 LOL 的戰爭迷霧設計，還有一個插曲：或許是由於技術上的一點疏漏，老版本 LOL 戰爭迷霧的視覺效果並不佳。在拳頭遊戲的工程師博客中，高級工程師 Jaewon Jung 曾用了大量的筆墨來講解他們在召喚師峽谷視覺升級計劃中，對 LOL 的戰爭迷霧所作的改進。</p>
<img class="content-image" src="https://pic1.zhimg.com/v2-e84ccaa4cd7fba2d189e9a7fd1ff8590_b.jpg" alt="">
<p>▲LOL 舊版召喚師峽谷和舊版遊戲的戰爭迷霧</p>
<img class="content-image" src="https://pic4.zhimg.com/v2-f9ef8a1130a003ef6a50d05a3c0bf5ef_b.jpg" alt="">
<p>▲LOL 新版召喚師峽谷和戰爭迷霧</p>
<p>LOL 舊版的戰爭迷霧設計，近處視野較亮，遠處視野較暗，設計師的本意是想對視野做出一個明暗的漸變，卻因爲某些原因導致這個漸變中出現了一個斷層，此外，迷霧邊緣也有非常明顯的鋸齒。工程師 Jaewon Jung 果斷移除了這個設計有缺陷的明暗漸變，並對邊緣的鋸齒作了優化，最終讓 LOL 擁有了更加出色的迷霧效果。Jaewon Jung 同時也解決了舊戰爭迷霧過暗的問題，最終讓新版的召喚師峽谷有了一個嶄新的出色的視覺效果。</p>
<p><strong>參考資料：</strong></p>
<p><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.classicempire.com/history.html" target="_blank" rel="nofollow noreferrer">A Brief History of Empire</a></p>
<p><a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Fog_of_war" target="_blank" rel="nofollow noreferrer">Fog of war - Wikipedia</a></p>
<p><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.codeofhonor.com/blog/the-making-of-warcraft-part-3" target="_blank" rel="nofollow noreferrer">The making of Warcraft part 3 - Code Of Honor</a></p>
<p><a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//engineering.riotgames.com/news/story-fog-and-war" target="_blank" rel="nofollow noreferrer">A Story of Fog and War</a></p>
<p><strong><strong>關注我們，感受電競</strong></strong></p>
<p>我們的微信公衆號：<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//weixin.sogou.com/gzh%3Fopenid%3DoIWsFt1tJdLPOJh8ECtEPNCHlLBQ%26ext%3DJWYPUbr8sGoi510wxpXlogXl7VrUN_-ETC7tsg7HtqKOyr6vt7vRW80jQ4gDY2oh" target="_blank" rel="nofollow noreferrer">LOLPentaQ</a>：專欄／特稿／數據分析／賽事訪談</p>



</div>
</div>
</div>


</div>
</div>