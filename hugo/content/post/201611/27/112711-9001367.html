+++
date = "2016-11-27T11:00:00"
title = "有一天，機器真可能會把交易員的活兒也給幹了"
titleimage = "http://pic3.zhimg.com/9617e5337108d6f6d5b6110d5d53126a.jpg"
ga = 112711
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">




<div class="question">
<h2 class="question-title">量化交易員、期權做市交易員未來會被全自動程序所取代嗎？</h2>

<div class="answer">



<div class="content">
<p>這個問題非常值得思考。</p>
<p>首先回答問題本身：在很多做市類的東西里面，交易決策和交易執行已經自動化程度非常高了，程序完全取代人只是時間問題。</p>
<p>這裏面最純粹的例子是基於三角套利的外匯做市，差不多 10 年前就是純自動化了，現在應該連寫代碼的都沒有了，全是硬件在參與。其他自動化程度極高的東西包括：基於硬套利和統計套利的 Delta1（Basket, ETF, Single stock, Index future, 各種多維度衍生品中 Delta 大的那些），各種基於統計的配對類交易，當然還有期權做市。</p>
<p>這些東西的共同點：成交量大，成交頻繁，參與者分散，（槓桿後）波動不低。任何產品的市場只要達到這幾個標準，人工交易員都會很快被程序取代。邏輯也很簡單，這樣的市場裏靠純定量，100% 明確的邏輯就可以很好的描述市場行爲，只需要在一個封閉式的框架裏有可靠性極高的執行就行了。都是計算機擅長的事情。剩下的差不多就是性能問題了。</p>
<p><strong>趣聞 One:</strong></p>
<p><em>有個在自動化程度方面一直走的很靠前的公司叫 Timberhill, - 哪怕業內聽說過的人恐怕也不多。但母公司就比較有名了： Interactive Brokers. 不少微信公衆號也都轉發過這公司老闆的傳奇，什麼用文字識別 + 機械手繞過 Nasdaq 對他程序化交易的限制什麼的，真假不知道。<br><br>但 Timberhill 確實很偏執的追求自動化程度，這公司的交易員 10 年前就改名叫 Pilot 了，非常明確的只是監控機器運行。Timberhill 的背景導致這公司在 liquidity provider 的世界裏是個異類：因爲要吸收 Interactive Brokers 千奇百怪的 retail flow，Timberhill 是出了名的什麼東西都能 quote，雖然什麼 quote 的量都沒有很大，定價也經常跟其他整齊劃一的做市商朋友們不太一樣。<br><br>能 quote 各種奇怪的、流動性不怎樣的東西，其實是個很驚人的能力，尤其是 10 年前，服務器的運算能力跟今天根本沒法比。然後出了一件事情，讓大家些許瞭解了一些 Timberhill 的做法：<br><br>Timberhill 告了兩個瑞典還是挪威的散戶，說他們操縱市場，在一個從來沒人聽說過的瑞典小股票上擊敗了 Timberhill 的做市程序。擊敗的方法讓人不知道說什麼好：例如這個票價格 100 左右，這兩個散戶發現 Timberhill 的程序每買入一次就調低 bid/ask 各 1 塊，每賣出一次就調高 bid/ask 各 1 塊，而且不論買入或者賣出了多少量&hellip;&hellip;於是他們先在 100/101 的價格上花 101 萬買 1 萬股，然後隔幾秒就 market order 買一股，重複個 10 次 Timberhill 的 quote 就變成了 111/112 了&hellip;&hellip;然後賣出 1 萬股&hellip;&hellip;比國內的黑平臺隨便造個假行情宰客戶還簡單粗暴&hellip;&hellip;<br><br>最後 Timberhill 勝訴。其他做市商都覺得 Timberhill 是逗逼。雖然再仔細想想，這裏面也不是完全沒有道理在。</em></p>
<p>當然同樣的市場裏，比如期權做市商，自動化程度也有不同。行情處理 + 定價 + 執行肯定全是 100% 自動化了，周邊很多工作就不一定了，業界自身偏好也不一樣。共同的認知差不多是&rdquo;越自動越好，無非是個邊際效益的問題&ldquo;，具體每家能做到什麼程度受核心團隊構成以及資金規模影響。自然資金規模越大的，越有提高自動化程度的訴求。</p>
<p>具體的效果，一般是這樣：人工程度高一點的，在單一市場裏能挖到的錢略多一點；但要算交易員人均產生的交易收入，自動化程度高的會高不少，畢竟一個交易員可以 cover 的市場多。但其實算上 developer 和 quant，又都差不多了。</p>
<p>這背後的取捨，其實是人腦和計算機在所有&rdquo;有完整邏輯體系可循，但還有一點模糊的因素&ldquo;的領域裏的競爭。計算機的優勢上面講過了，性能和簡單重複工作上的可靠性。但計算機有兩個問題：&rdquo;猜&ldquo;的能力不強；沒有&rdquo;常識&ldquo;。</p>
<p>人腦有很強的&rdquo;猜&ldquo;的傾向，往壞了說是對結論過分自信，往好了說是在數據和信息完全不夠的情況下能做出個還算靠譜的估計。這方面計算機在高速的追上，靠的是神經網絡相關技術的成熟，其實就是把人腦強大的估計引擎的估計過程抽象出來。</p>
<p>而沒有常識，其實更根本的看是從對於高頻交易團隊的成本角度來說，人更便宜。每一個合格的交易員都附帶了大量的預置信息（常識），例如永遠不應該用負價格 offer 股票，或者 13.5Call 永遠比 14Call 要貴。這些東西交易員們都是在大學或者培訓的時候就會的了，雖說花費了大量時間積累，積累的效率很低，但並不需要花公司一分錢。而讓程序都具備所有這些所謂常識，開銷大到根本不現實。這其實也是各種天方夜譚式的程序錯誤導致鉅額虧損的根本原因。</p>
<p><strong>趣聞 Two：</strong></p>
<p><em>在電子化時代之前，交易都是在 pit 裏完成。就是大家都在電視上看過的那種，幾百個穿着鮮豔馬夾的男人擠在一個大廳裏，瘋狂的互相打手勢，寫紙條，從人羣裏遞出去。</em></p>
<p><em>Pit trading 是地球歷史上，人類依靠自身力量做過的最高級，最重要，最激烈也最浪漫的事情。Pit trader 們完成的工作，除了今天 trader 們所有的工作以外，還包括交易所的 matching engine, 你的 pricing engine, 策略和 order manager 的所有功能。還有最重要的一點，交換機和網線的功能。</em></p>
<p><em>今天所有的信息都以光的速度在傳遞，而在 pit 裏，物理距離要靠肌肉的力量來覆蓋。行情稍激烈的一天結束後，每個 pit trader 都會全身青一塊紫一塊。要提高自己搶到好單的概率，需要的不是一條拉直的網線和一塊破 FPGA，而是日復一日的訓練和鋼鐵一樣的意志。所以 pit trader 們很多都是 NCAA 美式足球運動員。</em></p>
<p><em>有本書被稱爲 Option trader 的聖經，叫做 Options, Volatility and Pricing. 這本書是聖經的原因不是因爲嚴密全面，而是因爲作者連個數學公式都懶得寫。作者 Sheldon Natenburg 早年在芝加哥做 pit trader 的時候，沒有電腦，沒有計算器，沒有打印出來的 pricing table。其實那時候 BS 公式都沒什麼期權交易員瞭解的。所有好的交易員依靠的，無非是一些樸素的 non-arbitrage pricing 理念，和非常簡單有效的收窄估計上下限的技巧。</em></p>
<p><em>據說第一個試圖把這個雄性鬥獸場變成技術宅樂園的，（又）是 InteractiveBrokers。當他們的交易員拿着掌上電腦出現在 pit 裏的時候，所有人都覺得他們腦子進水了。當然不長的一段時間以後，技術宅們就完全統治了這一切。</em></p>
<p><em>然而 pit trader 裏也出過很多大神，比如 Sheldon Natenburg，另外還有很多技術宅們的老闆。在任何事情裏，老一代接受新事物的速度都不可能快過一張白紙的年輕人們。Pit trader 們會一直聚在 pit 裏流連。所以 pit 消亡的速度，比合理的速度要慢很多。</em></p>
<p><em>直到今天，pit trading 仍然在進行着。除了每個人手裏已經變成了 Android 系統的平板電腦。也許有天直接微信掃碼就可以撮合。</em></p>
<p>其實這個問題，反過來問更好：證券的電子交易市場中，有沒有計算機取代不了的工作？</p>
<p>當然有。計算機其實只擅長非常特定的一件事情：在封閉框架裏，按照完全明確的邏輯，高速高可靠性地重複完成同一個任務。只不過歷史上這件事情在市場裏需要由大量的人工完成的，而這些工作在大量被計算機接管，給人一種錯覺是所有從業人員都要被取代了。</p>
<p>所以這樣看，計算機永遠取代不了的工作有哪些就也很明顯了：</p>
<p>策略開發：因爲不在封閉框架裏。策略開發本身就是建立框架的過程。說什麼大數據 + 深度學習自動開發策略的都是 regression monkey, optimization monkey, 自己騙自己。</p>
<p>風控經理：因爲沒有完全明確的邏輯。每個交易主體的風險偏好形態都是不一樣的，而且很大程度上是主觀的。</p>
<p>Pilot: 因爲機器只要還是爲人類服務的，就少不了和人類交互。具體到電子交易這件事，至少需要有人保證計算機的運行是正常的（自體能鑑別出來並解決的問題都不叫問題）。Pilot 需要對所有的業務邏輯有了解，包括通訊軟件硬件策略交易風控，不然無法有效辨識出問題。所以 Pilot 這個職責應該是一個團隊在完成。</p>
<p>Trader: 因爲不是所有任務都是重複的。總有那麼一些時刻，常識會告訴你，過去的統計經驗無法給計算機足夠信息處理當下的情況。甚至邏輯框架都不再適用。好的自動交易程序應該也能做出決策，該關閉相應功能了。好的 Trader 應該知道，還有哪些工具是可用的，哪些已經不適用了。運用任何還可以用的工具，做出相對最準確的決策。市場在短期劇烈波動中很顯然是零和的，如果對自己的能力有自信的 trader 當然必須留在市場中交易，不然就是在犯罪，和在一個交投穩定活躍的交易日把交易程序關掉是一樣嚴重的犯罪。</p>
<p><strong>趣聞 Three：</strong></p>
<p><em>2011 年，那是一個春天。</em></p>
<p><em>福島核電站進水，據說爆炸的可能性不低，據說後果很嚴重。歐洲是唯一一個在日間交易時段的市場，成交量放大了 10 倍，波動率也是 10 倍。</em></p>
<p><em>但同一時刻的日經 225 指數期權夜盤非常平靜，- 所有做市商都知道該關閉自動做市程序了，市場裏沒有任何報價，只有一些離合理價值十萬八千里的零散 order 留在市場裏。</em></p>
<p><em>當時指數期貨的價格大概 8800 點。在日本接近午夜的某個時刻，一個深度價外認沽權上出現了一個大買單，bid 報 9000，沒有 ask. 無論按照什麼波動率參數，這個期權的價值也很難超過 100 塊。而且日本交易所是沒有無效價格規則的。</em></p>
<p><em>這個報價還是一個 iceberg 單，在市場中前後存在了有兩分鐘左右才陸陸續續被成交完。我的 desk 在倫敦，通過遠程登錄到一臺在悉尼的電腦，手動報單到日本，拿到了這個單子總和的差不多一半，價值 300 萬美金。</em></p>
<p><em>具體操作的那位這輩子最值錢的一次 雙擊 - 回車 操作的價值恐怕會永遠留在這個數字。這對人來說是再簡單不過的一件事情，對計算、決策和執行速度的要求都低到不能再低。但似乎全世界沒有一個交易系統能完成這次搶單，因爲沒有系統的設計需求中包含處理這種情況的要求。投入回報完全不值得。</em></p>
<p>最後再說一些看似和我結論站在同一邊，但我完全不認同的說法：</p>
<p>交易是一門藝術，機器永遠不能替代人。（故弄玄虛，毫無信息含量）</p>
<p>人的經驗是機器無法取代的。（機器最擅長取代的就是經驗）</p>
<p>計算機會出錯，所以不應該一位追求自動化。（人的可靠性和機器比根本不值得一提，只不過因爲操作邏輯也沒那麼明確，很難定義失誤，容易矇混過去而已）</p>
</div>
</div>




</div>


</div>
</div>