+++
date = "2016-11-27T07:00:00"
title = "告別「不靠譜的雪和不正經的風」，全靠這個了"
titleimage = "http://pic2.zhimg.com/92bdb7b57998ebbf09858a8aff1bea21.jpg"
ga = 112707
+++

<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">



<div class="question">
<h2 class="question-title"></h2>
<div class="answer">



<div class="content">
<p>文章來自<a href="https://www.zhihu.com/org-intro">機構帳號</a>：「<a href="https://www.zhihu.com/org/zhong-ke-yuan-zhi-sheng">中科院之聲</a>」</p>
<hr>
<p>11 月中旬，在美國鹽湖城召開的全球超級計算大會上，由中國科學院軟件研究所研究員楊超等人完成的&ldquo;千萬核可擴展大氣動力學全隱式模擬&rdquo;獲得了 2016 年度的高性能計算應用最高獎&mdash;&mdash;&ldquo;戈登&bull;貝爾&rdquo;獎。</p>
<img class="content-image" src="https://pic2.zhimg.com/v2-a1a68632beb9e33b906014caff794271_b.jpg" alt="">
<p><em>&ldquo;戈登&bull;貝爾&rdquo;獎獲獎證書</em></p>
<img class="content-image" src="https://pic2.zhimg.com/v2-da897eedd81450b6d19f23886b36791d_b.jpg" alt="">
<p><em>楊超研究員在 SC 大會現場介紹項目工作成果</em></p>
<p>這個獎項有多大的意義？獲獎課題到底做出了什麼傑出的成就？它跟我們的生活又有什麼樣的關係？本文將一一道來。</p>
<p><strong>1.從不靠譜的雪說起</strong></p>
<img class="content-image" src="https://pic3.zhimg.com/v2-63a516122d83ca8021c8a4fc266db396_b.jpg" alt="">
<p>最近你的朋友圈有沒有被賣萌的中國氣象局刷屏？儘管這次老天爺搗亂，但不得不說，絕大部分時候氣象局和天氣預報還是靠譜的。細想一下，不覺得天氣預報很神奇嗎？足不出戶，也不用掐指去算，我們就能知道明天、後天乃至一週內的天氣變化，這豈不是諸葛再世，孔明重生？</p>
<img class="content-image" src="https://pic2.zhimg.com/v2-ccb2a9cee9139fe3128cdc502885fe15_b.jpg" alt="">
<p>獲獎工作跟天氣預報有着密切的關係，你瞧，名稱中的&ldquo;大氣動力學&rdquo;，這可正是氣象學家們預測天氣的法寶之一。要了解獲獎工作的意義，我們先得來了解一下科學家們是怎麼用計算機來進行天氣預報的。</p>
<p><strong>2.科學家們的登場</strong></p>
<p>如果現在在你頭頂有一片黑壓壓的雨雲，而天上又正颳着北風，把雨雲往南吹，那你是不是可以預測南方某個地方即將迎來一場大雨？</p>
<p>這是人們依據生活經驗或常識得來的天氣預報，但要準確說出這場雨的具體時間、地點、雨量大小、延續的時間，這就遠超出人們的經驗和常識了，需要科學家們出場&ldquo;施法&rdquo;。</p>
<p>首先出場的是氣象科學家們，他們需要發現天氣變化的真正奧祕所在，並把這個奧祕清晰地呈現出來。用科學的語言說，那就是氣象學家們需要分析出天氣變化與哪些因素有關，並用一些數學方程描述出這些因素和天氣變化的內在關係。獲獎成果中的&ldquo;大氣動力學&rdquo;方程組就是氣象氣候中最重要的奧祕之一，它研究的方程長得就像下面圖示一樣，看起來很複雜。不同的符號代表了不同的物理量，包括速度、氣壓、溼度等。不同物理量可以千變萬化，但不管怎麼變化都必須遵循這個方程所限定的規律&mdash;&mdash;是不是有孫悟空翻不出如來佛手掌心的感覺？</p>
<img class="content-image" src="https://pic3.zhimg.com/v2-82fce366d1959ee74d53dde8c47b6902_b.jpg" alt="">
<p><em>獲獎成果所針對的大氣動力學方程組</em></p>
<p>氣象學家們給出了上面這樣的方程，但計算機可沒法去理解這個，這個時候就需要計算數學家們出場了。他們的最主要任務是給出求解上面這個方程的計算方法，也就是算法。</p>
<p>首先要做的是離散化。離散化？！蝦米？</p>
<p>如果我們現在要對北京城區的天氣情況進行計算預測，需不需要對每一個位置進行預報呢？例如需要具體到自己前腳掌和後腳掌兩個不同位置的天氣情況，或者小區大門和後門的天氣情況？</p>
<p>顯然我們不需要這麼&ldquo;精確&rdquo;的天氣預報。所以通常需要對北京地域進行打網格，劃分成一個個小格子，每一個小格子內的天氣是一樣的，這樣要對北京進行天氣預報，其實就是對下面的每一個小格子進行預報。這就是離散化的過程。</p>
<img class="content-image" src="https://pic4.zhimg.com/v2-7572d4c24ab7bb6643aa0e7f9b9794cb_b.jpg" alt="">
<p><em>對北京地域的離散化 / 網格化</em></p>
<p>大家自然可以知道，網格越密，那就意味着預測的精度越高。那爲了更精確的預報，是不是越密越好呢？確實是越密越準確，但密到一定程度以後要更密，那就只能是&mdash;&mdash;臣妾做不到呀。爲什麼做不到，咱們待會兒細說。</p>
<img class="content-image" src="https://pic2.zhimg.com/v2-575b8ae4603e298abf9f818a0e7aa9c9_b.jpg" alt="">
<p>那麼北京現在的網格大小是多大呢？度娘說啦，現在是 3 公里，力爭 5 年到 1 公里。也就是說，在每個 3 公里&times;3 公里的網格區域裏，氣象局認爲天氣是一樣的。</p>
<p>回到計算數學家們的工作上來，離散化或者網格化是他們工作的第一步，但需要注意的是，實際的網格可不是像上面地圖一樣是二維的哦，而是包含了高度的三維網格。想想也是呀，颳風下雨全在天上呢，研究天氣問題，哪能盯着地面呀。</p>
<p>離散化之後，每一個小方格 / 立方體就是一個獨立的個體，有自己的壓力、速度、溫度、溼度等數值信息。其中有些點的數值是我們現在知道的，這主要是通過氣象站、氣象衛星、氣象氣球等多種途徑採集的數據，根據這些已知點的信息，然後默唸氣象學家們給出的大氣動力學、大氣熱力學等方程口訣，就可以計算推演一段時間以後，所有網格點的參數信息。這就是數值天氣預報，也就是用計算機算出來的未來天氣情況。</p>
<img class="content-image" src="https://pic4.zhimg.com/v2-b41309bad4f3d0beed5d984875a4926f_b.jpg" alt="">
<p>計算數學家們最主要的工作，就是將上面的方程翻譯成小方格 / 立方體之間的計算關係。這裏有差分法、有限元法、有限體積法等多種方法，幾乎每一種方法都凝聚了全世界大量數學家的智慧，因爲一個好的方法，它必須滿足正確、可靠、穩定、精確、高效等多個條件。</p>
<p>具體的方法我們就不在這裏說了，你只要記住，現在，計算數學家將氣象學家的神祕的方程口訣變成了可以在計算機上處理的算法了。那下一個出場的，就該是&ldquo;程序猿&rdquo;們了。</p>
<p>程序猿或者計算機科學家面臨的任務，是將算法寫成可以在計算機上執行的程序。這聽起來好像很簡單&mdash;&mdash;打斷一下，你聽說過天河、神威的大名嗎？比如說天河二號，神威&bull;太湖之光？如果沒有聽過，那你就 OUT 了；如果聽說了，你覺得在這些計算機上寫程序是簡單的事情嗎？要知道，這些可是傳說中的超級計算機，而且還是當前世界上最快的兩臺計算機。什麼？有多快，度娘又說啦，神威&bull;太湖之光相當於普通家用電腦的 200 萬倍！在這樣的電腦上寫程序，跟在普通電腦上能一樣嘛，難度沒有 200 萬倍，也得有個 2 萬倍。</p>
<img class="content-image" src="https://pic2.zhimg.com/v2-bfcd05ed0a0d3408aa136f635c748eed_b.jpg" alt="">
<p>超級計算機爲什麼有那麼強大的能力呢？其實很簡單，那就是&ldquo;人多力量大&rdquo;、&ldquo;團結就是力量&rdquo;！每臺超級計算機都由大量的計算核心（計算節點）組成，計算處理問題時，這些計算核心團結協作，一起努力工作，這就是所謂的&ldquo;並行計算&rdquo;。</p>
<p>計算機科學家們的主要任務，就是將計算數學家給出的算法，寫成能在超級計算機上高效執行的並行程序。這可不是簡單的工作。</p>
<p>你現在可以想一件需要完成的工作，例如寫一本小說、抄寫生字 1 萬遍、造一輛汽車等等，然後設想把這件事情交給 1 個人做、10 個人做、100 個人做、1 萬個人做，會是什麼情形？10 個人做一定是 1 個人做的效率的 10 倍嗎？當中有人偷懶不幹活怎麼辦？又或者有人生病了該怎麼辦？計算機科學家們面臨的挑戰和這個類似，他們需要指揮、協調衆多計算核心，讓它們齊心協力，不僅要把工作做對，還要做得快、做得好。</p>
<p>還記得獲獎課題的名稱嗎？</p>
<p>&ldquo;千萬核可擴展大氣動力學全隱式模擬&rdquo;，這次楊超和他的小夥伴們使用了超過 10000000 個核來計算一個問題，驚呆了沒？</p>
<p>最後需要補充的是，這三類科學家可都不是獨善其身、明哲保身的人哦，他們通常身兼多職。例如楊超研究員的工作既屬於計算數學領域，又屬於計算機軟件領域。事實上，只有身兼多職纔有更開闊的視野，才更利於合作、研究以及取得成就。</p>
<p><strong>3.了不起的&ldquo;千萬核可擴展大氣動力學全隱式模擬&rdquo;</strong></p>
<p>首先，從成果名稱上，我們就能清晰的看到多領域科學家的協作：氣象學家貢獻了大氣動力學；計算數學家負責全隱式模擬算法；而計算機科學家實現千萬核可擴展計算。當然，還是剛剛所說的，這三個部分不是獨立的，每一部分都需要多領域專家的通力協作。</p>
<p>我們首先來了解一下他們到底做了什麼工作吧。這可是我辛辛苦苦閱讀了他們長達 12 頁的論文之後才領悟的奧妙。</p>
<img class="content-image" src="https://pic1.zhimg.com/v2-3ce0b1ff70c30faf4b4b116b67b38464_b.jpg" alt="">
<p>楊超和他的小夥伴們這次完成的是一次氣候的數值仿真。注意哦，這裏是氣候，而不是氣象。</p>
<p>通常氣候是指某一地區長時期內（30 年或更長）的天氣狀態的綜合表現。氣候和前面所說的天氣預報針對的是同一個問題，只是氣候通常研究的區域更大，計算的時間更長。它不是用來對某一天的天氣進行預報，而是對整個地區乃至全球未來的地理、氣象等因素進行推演預測。所以換句話說，對氣候而言，氣象關心的那都是小事情。當然，問題本質以及如前面所述的數值計算的過程那都是一樣一樣兒的。</p>
<p>但正因爲氣候和氣象關心問題的尺度不一樣，它們兩者之間沒法對接：氣象模擬的網格需要精細到幾公里乃至 1 公里以內，而氣候模擬網格通常爲幾十乃至幾百公里；氣象模擬的時間精度要求到小時乃至分鐘，而氣候模擬通常到天、月、年。如果能將氣候模擬和氣象模擬對接起來，那就可以大幅提升彼此預測的準確度，對國計民生乃至全人類的發展有着重大的意義。美國、歐洲、日本、中國&hellip;&hellip;，全世界的科學家們都在爲這個目標而努力着。</p>
<p>獲獎成果的現實或科學意義正體現於此，它在打通氣象和氣候模擬之路上邁出了標誌性的一步。</p>
<p>獲獎成果計算的區域是北緯 18 度至北緯 72 度之間，在地球儀上沿着兩條線各畫一個圓，計算的就是這兩個圓之間的帶狀區域，差不多佔了整個地球表面積的 1/3。然後，記得是三維問題哦，從地面往上 30 公里都在研究範圍內，超出這個範圍，就認爲對地表的的氣候沒有影響啦。所以，最後實際計算機需要處理的網格區域大小爲 40000 公里&times;6000 公里&times;30 公里。</p>
<p>在算法層面，他們提出了一個新的全隱式計算方法，可以快速、正確地求解氣象學家給出的那個方程組。和已有的其他算法相比，這個算法最大的優勢在於其高效性，使得更精細的網格成爲可能。</p>
<p>事實上，他們測試的最小網格已經到了 488 米，這比現在北京天氣預報的網格還要小！</p>
<p>也就是說，這個新的算法完全可以用來解決氣象和氣候模擬不能打通的問題。這個算法比美國的同類下一代大氣模擬系統的計算效率提升近一個數量級（接近 10 倍或幾十倍）。</p>
<img class="content-image" src="https://pic3.zhimg.com/v2-ed1aa1840077a6fb16d5891258a59c22_b.jpg" alt="">
<p><em>計算結果的呈現：溫度在不同模擬日的變化</em></p>
<p>這麼厲害的算法到底是怎麼實現的呢？拜託，這是一篇科普文章，不是科學研究論文，要感興趣的話，去聯繫獲獎團隊的成員們吧，他們可有 12 人呢。不過，不管他們的算法再精深高妙，本質上，可以用兩個字來形容，那就是&ldquo;偷懶&rdquo;!哦，說錯了，其實是&ldquo;聰明的偷懶&rdquo;&mdash;&mdash;乾的少，可還幹得好！用科學的語言來描述呢，那就是&ldquo;在不降低計算結果正確性的前提下，儘可能的減少計算工作量&rdquo;！計算量少了，計算效率可不就高了嘛。不過看看他們算法的一些關鍵詞，&ldquo; DD-MG 預條件子&rdquo;、&ldquo; GP-ILU 分解&rdquo;，這是多麼的高大上呀。</p>
<p>除了新的厲害算法之外，成果的另一個主要突破是前面提及的，在高達一千萬個計算核心的超級計算機上實現了算法，並實現了高效的並行計算。</p>
<p>聽起來好厲害！具體是什麼呢？</p>
<p>就是在 40000 公里&times;6000 公里&times;30 公里區域上，網格大小是 488 米（爲什麼是 488 而不是 500 呢，我也疑惑中），總共是 1000 多億網格，每個網格有 6 個未知數，最終的未知數個數約 7700 億！這樣的問題，也只有世界最快的超級計算機和我國最優秀的一羣年輕科學家們能夠勝任！</p>
<p>記得前面說的臣妾做不到的事情嗎，爲什麼把網格的尺寸縮小或者說把計算的精度提高這麼困難呢？這是因爲，如果網格尺寸縮小一半，例如從 1 公里大小縮減到 500 米，由於處理的網格是三維的，那就是把原來 1 公里&times;1 公里&times;1 公里的立方塊剖分成了 500 米&times;500 米&times;500 米的小立方塊，1 個變成了&hellip;&hellip;8 個！這樣計算機要求解的未知數的個數也是原來的 8 倍，而求解過程的工作量可是比未知數的平方還要大，也就是說，網格精度每增加一倍，計算機的工作量是原來的一個數量級以上！</p>
<p>這下，大家能更好地理解這次獲獎成果的意義了吧，那就是在前所未有的超級計算機上用出色的算法和高效的程序進行了一次氣候問題前所未有複雜的計算！</p>
<p>未來，這項研究不僅可以用於高分辨率氣候模擬和高精細數值天氣預報，也有助於提升我國應對極端氣候事件和自然災害時的減災防災能力，還能在航空、地學、能源等科學計算領域有着廣闊的應用前景或重要的參考價值。</p>
<p>最後要提出的是，他們的論文還報告了從氣象科學家角度關心的模擬能力。比如 3 公里網格分辨率下是 1.01 模擬年 / 天（ Simulated&ndash;Years-Per-Day，SYPD ），比美國下一代大氣動力框架 FV3 的 0.16SYPD 提高了好幾倍。</p>
<p>但是，即便是這麼厲害的算法，這麼快的計算機，要實際解決超高分辨率模擬的問題還得計算很長時間。我們在爲楊超和他的小夥伴們歡呼的同時，也期待着更多的氣象氣候、計算數學和計算機科學家早日攻克這一難題。</p>
<p>到那個時候，我們就可以徹底告別那些不靠譜的雪和不正經的風了！</p>
<p>最後說點題外話，中國科學家斬獲這一獎項後，不少人爲之興奮，但也有網友提出疑問 : 中國人自己的科研項目，拿到國際上去參評，會不會因此泄露核心技術？</p>
<p>楊超研究員對此給出如下回應:</p>
<blockquote>ACM Gordon Bell（戈登貝爾）獎的評審，的確需要發表論文並作答辯報告，這是事實，但並不會因此泄露所謂的核心技術。 <br>技術的發展是不斷演進的，尤其是像超算這種高技術領域。戈登貝爾獎在超算領域享有盛譽，但是該獎項設立近 30 年來，一直被美日等國壟斷。 <br>今年，中國入圍了 3 個項目，並最終有一個奪獎，這不但展示了我們在技術上取得的突破，也更充分展示了我們在技術上的自信。中國的強大需要這種自信。</blockquote>
<p>作者姚繼鋒，系中國科學院軟件研究所並行軟件與計算科學實驗室研究人員</p>
<p>來源：中國科學院軟件研究所&nbsp;</p>
<hr>
<p>「知乎<span class="lG">機構</span><span class="lG">帳號</span>」是<span class="lG">機構</span>用戶專用的知乎<span class="lG">帳號</span>，與知乎社區內原有的個人<span class="lG">帳號</span>獨立並行，其使用者爲有正規資質的組織<span class="lG">機構</span>，包括但不限於科研院所、公益組織、政府機關、媒體、企業等。這不僅是知乎對<span class="lG">機構</span>的「身份認證」，更是涵蓋了內容流通機制、<span class="lG">帳號</span>規範等全套<span class="lG">帳號</span>體系。和個人<span class="lG">帳號</span>一樣，<span class="lG">機構</span><span class="lG">帳號</span>開通不需要任何費用，同時也受社區規範的監督管理，並要遵守相關協議。目前<span class="lG">機構</span><span class="lG">帳號</span>入駐採用邀請制。您可以通過 &nbsp;<a href="http://zhihu.com/org-intro" target="_blank">什麼是「知乎機構帳號」</a>&nbsp;來了解更多<span class="lG">機構</span><span class="lG">帳號</span>信息。&nbsp;</p>



</div>
</div>
</div>


</div>
</div>